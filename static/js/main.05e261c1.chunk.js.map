{"version":3,"sources":["containers/User/styles.module.scss","components/Post/styles.module.scss","containers/Threads/styles.module.scss","containers/NewThread/styles.module.scss","containers/Forum/styles.module.scss","components/Body/index.tsx","utils/useResponsive.ts","components/X/index.tsx","utils/parsers.ts","components/Img/index.tsx","components/ParsedText.tsx","containers/Nav/Alerts.tsx","utils/jwt.ts","containers/Nav/User.tsx","containers/Nav/Dropdown.tsx","containers/Nav/index.tsx","components/DisplayError/index.tsx","components/Loading/index.tsx","containers/Login/index.tsx","containers/Signup/index.tsx","components/Post/index.tsx","containers/Posts/index.tsx","components/Ad/index.tsx","containers/AdContainer/index.tsx","components/TextInput/index.tsx","utils/profanityFilter.ts","containers/Threads/index.tsx","containers/NewThread/index.tsx","containers/Profile/index.tsx","containers/User/index.tsx","containers/Messages/SidePanel.tsx","containers/Messages/MessagePanel.tsx","containers/Messages/NewMessagePanel.tsx","containers/Messages/index.tsx","containers/Forum/index.tsx","containers/Stats/index.tsx","App.tsx","index.tsx","containers/Signup/styles.module.scss","components/TextInput/styles.module.scss","containers/Profile/styles.module.scss","containers/Login/styles.module.scss","containers/Nav/styles.module.scss","components/Body/styles.module.css","containers/Posts/styles.module.scss","components/Ad/styles.module.scss","containers/AdContainer/styles.module.scss","containers/Messages/styles.module.scss","components/X/styles.module.scss","components/Img/styles.module.scss","components/DisplayError/styles.module.scss","components/Loading/styles.module.scss"],"names":["module","exports","header","profile","intro","memberSince","sendMessage","content","left","right","avatar","postContainer","recentPosts","infoSection","uuid","post","threadLink","username","totalPosts","main","panel","panelContainer","userInfo","footer","postedAt","threadTitle","signup","disabled","back","addPost","adContainer","ad","threadContainer","input","sectionTitle","label","info","threadPost","postLink","forum","Width","_ref","children","props","Object","objectWithoutProperties","react","assign","className","styles","width","Body","_ref2","body","Body_Width","getSize","innerHeight","window","innerWidth","setEventListener","event","handler","addEventListener","removeEventListener","useResponsive","mobileWidth","_useState","useState","_useState2","slicedToArray","windowSize","setWindowSize","useEffect","isMobile","isDesktop","ringStyles","border","borderRadius","X","onClick","ring","x","style","externalLinkTest","imageTest","userTest","hashtagTest","postTest","threadTest","isUsername","str","cleanFragment","match","isHashtag","getUsernames","split","filter","map","f","getTags","JSON","stringify","hashtags","toLowerCase","usernames","fragment","test","replace","RegExp","Img","url","img","src","imgStyle","maxHeight","parseFragment","alt","isExternalLink","href","target","rel","userId","dirt","Link","to","concat","hashtag","isPostRef","postId","isThreadRef","threadId","combineFragments","fragments","length","arr","lastFragment","toConsumableArray","slice","addIndex","i","key","parser","paragraph","reduce","ParsedText","Alerts","alerts","readAlert","react_default","a","createElement","Fragment","alert","id","components_X","link","AlertDropdown","onEmptyClick","alertDropdown","Alerts_Alerts","noAlerts","AlertCircle","_ref3","unread","cx","circle","defineProperty","JWT","getMapping","stored","localStorage","getItem","parse","__currentUser__","jwt","get","mapping","getCurrentUser","getInnactiveUserList","keys","set","setItem","setCurrentUser","clearCurrentUser","logout","location","reload","UserDropdown","alternativeUsers","userDropdown","switchAccounts","switchUser","ELEMENT_ID","Dropdown","hide","hideDropdown","e","dropdown","document","getElementById","contains","currentUserQuery","readAlertMutation","NavBar","toggleDropdownVisible","currentUser","loading","container","title","links","Nav_SignedInMenu","Nav_SignedOutMenu","SignedInMenu","_useResponsive","user","backgroundImage","avatarUrl","Alerts_AlertCircle","SignedOutMenu","Nav","dropdownState","setDropdownState","_useQuery","useQuery","query","_useQuery2","_useQuery2$","data","fetching","_useMutation","useMutation","_useMutation2","executeReadAlert","history","listen","Nav_NavBar","User_UserDropdown","Alerts_AlertDropdown","alertId","DisplayError","error","Loading","loginMutation","Login","setUsername","_useState3","_useState4","password","setPassword","_useMutation2$","executeLogin","login","jwtToken","card","components_DisplayError","components_Loading","name","placeholder","value","onChange","type","submitButton","preventDefault","signupMutation","Signup","_useState5","_useState6","passwordConfirm","setPasswordConfirm","_useState7","_useState8","errorText","setErrorText","executeSignup","displayErrorText","message","includes","inputs","Post","author","postStats","totalCount","Date","createdAt","toISOString","thread","Posts","variables","components_Post","Ad","AdContainer","n","adList","sampleSize","ads","components_Ad","defaultPlaceholder","TextInput","buttonContent","inputStyle","onSubmit","setContent","submit","inner","contentInput","_onChange","_x","apply","this","arguments","toString","onKeyDown","keyCode","metaKey","profanityFilter","each","motherfucker","fuck","shit"," dick ","bitch","cunt","cocksuck","cock","nigger","nigga"," fag ","faggot","tranny"," god ","goddamn","replaceTo","replaceFrom","AddPost","executeCreatePost","components_TextInput","tags","Threads","executeQuery","isError","useCallback","requestPolicy","isLoading","isData","posts","showAd","containers_AdContainer","Threads_AddPost","NewThread","setTitle","response","executeCreateThread","createThread","objectSpread","newThread","height","userProps","updateUserMutation","Profile","ProfileContent","validDate","dateStr","validEmail","emailStr","setAvatarUrl","email","setEmail","gender","setGender","birthday","setBirthday","_useState9","bio","_useState10","setBio","_useState11","job","_useState12","setJob","_useState13","interests","_useState14","_useState15","websites","_useState16","setWebsites","_useState17","media","_useState18","setMedia","_useState19","religion","_useState20","setReligion","_useState21","politics","_useState22","setPolitics","_useState23","_useState24","submitted","setSubmitted","executeUpdateUser","bdayError","emailError","updateUser","buttonContainer","inputSection","InfoSection","User","date","toLocaleString","weekday","year","month","day","hour","minute","second","User_InfoSection","messagesDataQuery","collectMessages","messages","_createdAt","has","uniqueSortedUsers","messageData","sent","received","Map","values","Array","from","entries","orderBy","reverse","m","SidePanel","messageNames","sidePanelContainer","sidePanel","emptyUsers","requestedUserQuery","createMessageMutation","MessagePanel","$sentMessages","useRef","messageToSend","setMessageToSend","executeCreateMessage","current","scrollTop","scrollHeight","Redirect","collectedMessages","requestedUser","sentMessages","sender","messagePanel","ref","sendBox","onKeyPress","toUsername","NewMessagePanel","newUser","setNewUser","newMessageBox","then","Messages","newMessage","setNewMessage","messagesSection","mobileContainer","desktopContainer","ThreadPost","userName","substring","latestPostTime","Forum","threads","Forum_ThreadPost","statsQuery","Stats","stats","userStatsList","stat","postCount","App","prevProps","scrollTo","Route","path","component","components_Body","Switch","exact","render","containers_Threads","Number","params","containers_Messages","_ref4","containers_Posts","_ref5","containers_User","fontSize","padding","React","withRouter","client","createClient","fetchOptions","headers","Authorization","hours","getHours","ReactDOM","urql_es","BrowserRouter","basename","src_App","Unread","Rotate"],"mappings":"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","file":"static/js/main.05e261c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__2wLxh\",\"profile\":\"styles_profile__31rzl\",\"intro\":\"styles_intro__1X3Y3\",\"memberSince\":\"styles_memberSince__1jhAK\",\"sendMessage\":\"styles_sendMessage__3284j\",\"content\":\"styles_content__1_9jW\",\"left\":\"styles_left__vhBr7\",\"right\":\"styles_right__1-xIl\",\"avatar\":\"styles_avatar__1sUtC\",\"postContainer\":\"styles_postContainer__35feo\",\"recentPosts\":\"styles_recentPosts__1aAFm\",\"infoSection\":\"styles_infoSection__2k3k7\",\"uuid\":\"styles_uuid__36WGZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"styles_post__2wjTj\",\"avatar\":\"styles_avatar__2GJc8\",\"header\":\"styles_header__19BhD\",\"threadLink\":\"styles_threadLink__3x7tb\",\"username\":\"styles_username__2fJ1r\",\"totalPosts\":\"styles_totalPosts__1YOIB\",\"main\":\"styles_main__TKFmC\",\"panel\":\"styles_panel__3ULdb\",\"panelContainer\":\"styles_panelContainer__2nRTc\",\"userInfo\":\"styles_userInfo__3SK-L\",\"content\":\"styles_content__2Ru5-\",\"footer\":\"styles_footer__dMb2p\",\"postedAt\":\"styles_postedAt__9cLJi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"threadTitle\":\"styles_threadTitle__nzF4M\",\"signup\":\"styles_signup__2AxnY\",\"disabled\":\"styles_disabled__1TmJj\",\"left\":\"styles_left__1P-Yx\",\"back\":\"styles_back__2jFxT\",\"threadLink\":\"styles_threadLink__1hkCr\",\"addPost\":\"styles_addPost__1-izz\",\"adContainer\":\"styles_adContainer__2ZcDv\",\"ad\":\"styles_ad__36g-4\",\"threadContainer\":\"styles_threadContainer__22gH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"styles_back__3iTuS\",\"input\":\"styles_input__rHUWj\",\"sectionTitle\":\"styles_sectionTitle__2wqKD\",\"label\":\"styles_label___0hEN\",\"signup\":\"styles_signup__34diQ\",\"disabled\":\"styles_disabled__3WJTC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__VUeZN\",\"info\":\"styles_info__2f1QB\",\"threadPost\":\"styles_threadPost__3SWHg\",\"postLink\":\"styles_postLink__2yHjb\",\"forum\":\"styles_forum__AVThT\",\"adContainer\":\"styles_adContainer__3zUCc\",\"left\":\"styles_left__2_RIC\"};","import * as React from 'react';\nimport styles from './styles.module.css';\n\ninterface Props {\n  children: any,\n  [prop: string]: any\n}\n\nexport const Width: React.SFC<Props> = ({ children, ...props }) => (\n  <div className={styles.width} {...props}>\n    {children}\n  </div>\n)\n\nconst Body: React.SFC<Props> = ({ children }) => (\n  <div className={styles.body}>\n    <Width>{children}</Width>\n  </div>\n)\n\nexport default Body\n\n","import { useState, useEffect } from 'react'\n\nconst MOBILE = 540\n\ntype WindowSize = {\n  innerHeight: number\n  innerWidth: number\n}\n\nconst getSize = (): WindowSize => ({\n  innerHeight: window.innerHeight,\n  innerWidth: window.innerWidth,\n})\n\ntype AnyFn = (a: any) => any\nconst setEventListener = (event: string, handler: AnyFn) => () => {\n  window.addEventListener(event, handler)\n  return () => window.removeEventListener(event, handler)\n}\n\n\nexport default function useResponsive(mobileWidth: number) {\n  const [windowSize, setWindowSize] = useState<WindowSize>(getSize())\n  const handleResize = () => setWindowSize(getSize())\n\n  useEffect(setEventListener('resize', handleResize))\n\n  return {\n    isMobile: windowSize.innerWidth <= mobileWidth,\n    isDesktop: windowSize.innerWidth > mobileWidth\n  }\n}\n","import * as React from 'react';\nimport styles from './styles.module.scss';\n\ntype XProps = {\n  onClick?: any,\n  ring?: boolean\n}\n\nconst ringStyles = { border: '1px solid', borderRadius: '100%' }\nconst X: React.SFC<XProps> = ({ onClick, ring }) => (\n  <span\n    className={styles.x}\n    style={ring ? ringStyles : {}}\n    onClick={onClick}\n  >\n    x\n  </span>\n)\n\nexport default X\n","const externalLinkTest = /^(http|https):\\/\\/.+\\..+/\nconst imageTest = /(\\.jpg$)|(\\.jpeg$)|(\\.png$)|(\\.gif$)|(\\.svg$)/\nconst userTest = /^@.+/\nconst hashtagTest = /^#.+/\nconst postTest = /^\\/posts\\/.+/\nconst threadTest = /^\\/threads\\/.+/\n\nexport function isImage(str: string) {\n  str = cleanFragment(str)\n  return str.match(imageTest) && str.match(externalLinkTest)\n}\n\nexport function isExternalLink(str: string) {\n  str = cleanFragment(str)\n  return str.match(externalLinkTest)\n}\n\nexport function isUsername(str: string) {\n  str = cleanFragment(str)\n  return str.match(userTest);\n}\n\nexport function isHashtag(str: string) {\n  str = cleanFragment(str)\n  return str.match(hashtagTest)\n}\n\nexport function isPostRef(str: string) {\n  str = cleanFragment(str)\n  return str.match(postTest)\n}\n\nexport function isThreadRef(str: string) {\n  str = cleanFragment(str)\n  return str.match(threadTest)\n}\n\nexport function hasNewline(str: string) {\n  return str.match('\\n')\n}\n\nexport function getUsernames(str: string) {\n  return str\n    .split(' ')\n    .filter(isUsername)\n    .map(f => cleanFragment(f, /^@/))\n}\n\nexport function getHashtags(str: string) {\n  return str\n    .split(' ')\n    .filter(isHashtag)\n    .map(f => cleanFragment(f, /^#/).toLowerCase())\n}\n\nexport function getTags(content: string) {\n  return JSON.stringify({\n    hashtags: getHashtags(content),\n    usernames: getUsernames(content)\n  })\n}\n\nexport function cleanFragment(fragment: string, test?: RegExp) {\n  return fragment\n    .replace(test ? new RegExp(test, 'g') : '', '')\n    .replace(/(\\.|\\?|!|:|;|,|'|\")+$/, '')\n}\n\n","import * as React from 'react'\nimport styles from './styles.module.scss'\n\ntype Props = {\n  url: string,\n  [props: string]: unknown\n}\nexport default function Img({ url, ...props }: Props) {\n  return <img className={styles.img} src={url} {...props} />\n}\n","import * as React from 'react'\nimport replace from 'lodash/replace'\nimport { Link } from 'react-router-dom'\nimport {\n  isExternalLink,\n  isImage,\n  isHashtag,\n  isUsername,\n  isPostRef,\n  isThreadRef,\n  hasNewline,\n  cleanFragment,\n} from '../utils/parsers'\nimport Img from './Img'\n\ntype Fragment = string | React.ReactNode;\n\nconst last = (arr: Array<Fragment>): Fragment => arr[arr.length - 1]\n\nconst imgStyle = {\n  maxHeight: 300,\n}\nconst parseFragment = (fragment: string): Fragment => {\n  if (isImage(fragment)) {\n    return <Img url={fragment} style={imgStyle} alt=\"user posted content\"/>\n\n  } else if (isExternalLink(fragment)) {\n    return <a href={fragment} target=\"_blank\" rel=\"noopener noreferrer\">{fragment}</a>\n\n  } else if (isUsername(fragment)) {\n    const userId = cleanFragment(fragment, /^@/)\n    const dirt = fragment.replace(userId, '').replace(/^@/, '')\n    return <><Link to={`/users/${userId}`}>@{userId}</Link>{dirt}</>\n\n  } else if (isHashtag(fragment)) {\n    const hashtag = cleanFragment(fragment, /^#/)\n    const dirt = fragment.replace(hashtag, '').replace(/^#/, '')\n    return <><Link to={`/hashtag/${hashtag.toLowerCase()}`}>#{hashtag}</Link>{dirt}</>\n\n  } else if (isPostRef(fragment)) {\n    const postId = cleanFragment(fragment, /^\\/posts\\//)\n    const dirt = fragment.replace(postId, '').replace(/^\\/posts\\//, '')\n    return <><Link to={`/posts/${postId}`}>/posts/{postId}</Link>{dirt}</>\n\n  } else if (isThreadRef(fragment)) {\n    const threadId = cleanFragment(fragment, /^\\/threads\\//)\n    const dirt = fragment.replace(threadId, '').replace(/^\\/threads\\//, '')\n    return <><Link to={`/threads/${threadId}`}>/threads/{threadId}</Link>{dirt}</>\n\n  } else {\n    return fragment\n  }\n}\n\n\nconst combineFragments = (fragments: Array<Fragment>, fragment: Fragment): Array<Fragment> => {\n  if (!fragments.length) {\n    return [fragment]\n  }\n\n  const lastFragment = last(fragments)\n\n  if (typeof lastFragment === 'string' && typeof fragment === 'string') {\n    return [...fragments.slice(0, -1), lastFragment + ' ' + fragment]\n\n  } else if (typeof lastFragment === 'string') {\n    return [...fragments.slice(0, -1), lastFragment + ' ', fragment]\n\n  } else {\n    return [...fragments, ' ', fragment]\n  }\n}\n\nconst addIndex = (f: React.ReactNode, i: number) => (\n  <React.Fragment key={i}>\n    {f}\n  </React.Fragment>\n)\n\nconst parser = (content: string) => content\n  .split('\\n')\n  .map((paragraph, i) => (\n    <p key={i}>\n      {paragraph\n        .split(' ')\n        .map(parseFragment)\n        .reduce(combineFragments, [])\n        .map(addIndex)\n      }\n    </p>\n  ))\n\ntype Props = { content: string };\n\nexport default function ParsedText({ content }: Props) {\n  return (\n    <>\n      {parser(content)}\n    </>\n  )\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport cx from 'classnames'\n\nimport X from '../../components/X'\nimport ParsedText from '../../components/ParsedText'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport styles from './styles.module.scss'\nimport { CurrentUserQuery } from './index'\n\n\ntype CurrentUser = CurrentUserQuery['currentUser']\n\ntype AlertDropdownProps = {\n  alerts: CurrentUser['alerts'],\n  readAlert: (id: string) => unknown\n  onEmptyClick?: (a: any) => any\n}\n\nconst Alerts = ({ alerts, readAlert }: AlertDropdownProps) => {\n\n  // if (error) return <DisplayError error={error} />\n  // if (loading) return <Loading />\n\n  return (<>\n    {alerts.map(alert =>\n      <div key={alert.id} className={styles.alert} onClick={() => readAlert(alert.id)}>\n        <X ring />\n        {alert.link\n          ? <Link to={alert.link}>{alert.content}</Link>\n          : <ParsedText content={alert.content} />\n        }\n      </div>\n    )}\n  </>)\n\n\n}\n\nexport const AlertDropdown: React.SFC<AlertDropdownProps> = ({ alerts, onEmptyClick, readAlert }) => (\n  <div className={styles.alertDropdown}>\n    {alerts.length\n      ? <Alerts alerts={alerts} readAlert={readAlert} />\n      : <div className={styles.noAlerts} onClick={onEmptyClick}>No Alerts!</div>\n    }\n  </div>\n)\n\nexport const AlertCircle: React.SFC<{ unread: number }> = ({ unread }) => (\n  // TODO make padding a a function of unread\n  <div className={cx(styles.circle, { [styles.unread]: unread })}>\n    {unread || 0}\n  </div>\n)\n","const JWT = '__JWT__'\n\ntype JwtMap = {\n  __currentUser__: string,\n  [username: string]: string\n}\n\ntype JwtUser = {\n  username: string,\n  jwt: string\n}\n\nconst getMapping = (): JwtMap => {\n  const stored = localStorage.getItem(JWT)\n  return stored ? JSON.parse(stored) : { __currentUser__: '' }\n}\n\nconst get = (): string| void => {\n  const mapping = getMapping()\n  return mapping[mapping.__currentUser__]\n}\n\nconst getInnactiveUserList = (): Array<JwtUser> => {\n  const mapping = getMapping()\n  return Object.keys(mapping)\n    .filter(username => (username !== '__currentUser__' && username !== mapping.__currentUser__))\n    .map(username => ({\n      username, jwt: mapping[username]\n    }))\n}\n\nconst getCurrentUser = (): JwtUser => {\n  const mapping = getMapping()\n  return {\n    username: mapping.__currentUser__,\n    jwt: mapping[mapping.__currentUser__]\n  }\n}\n\nconst set = (username: string, jwt: string): void => {\n  const mapping = getMapping()\n  mapping[username] = jwt\n  localStorage.setItem(JWT, JSON.stringify(mapping))\n}\n\nconst setCurrentUser = (username: string) => {\n  const mapping = getMapping()\n  mapping.__currentUser__ = username\n  localStorage.setItem(JWT, JSON.stringify(mapping))\n}\n\nconst clearCurrentUser = () => {\n  const mapping = getMapping()\n  mapping.__currentUser__ = ''\n  localStorage.setItem(JWT, JSON.stringify(mapping))\n}\n\nexport default {\n  get,\n  getCurrentUser,\n  getInnactiveUserList,\n  set,\n  setCurrentUser,\n  clearCurrentUser\n}\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport jwt from '../../utils/jwt'\nimport styles from './styles.module.scss'\n\nconst switchUser = (username: string) => {\n  jwt.setCurrentUser(username)\n  location.reload()\n}\n\nconst logout = () => {\n  jwt.clearCurrentUser()\n  location.reload()\n}\n\nexport const UserDropdown: React.SFC<{}> = () => {\n  const alternativeUsers = jwt.getInnactiveUserList()\n\n  return (\n    <ul className={styles.userDropdown}>\n      <a href=\"#\" onClick={logout}>\n        <li>Logout</li>\n      </a>\n\n      <Link to=\"/messages\">\n        <li>\n          <div>Messages</div>\n        </li>\n      </Link>\n\n      <Link to=\"/profile\">\n        <li>\n          <div>Update Profile</div>\n        </li>\n      </Link>\n\n      <Link to=\"/signup\">\n        <li>\n          <div>Create Account</div>\n        </li>\n      </Link>\n\n      {!!alternativeUsers.length &&\n        <div className={styles.switchAccounts}>\n          <strong>Switch Account</strong>\n          <ul>\n            {alternativeUsers.map(({ username }) => (\n              <li\n                key={username}\n                onClick={() => switchUser(username)}\n              >\n                {username}\n              </li>\n             ))}\n          </ul>\n        </div>\n      }\n    </ul>\n  )\n}\n","import React, { Component, useEffect } from 'react'\nimport cx from 'classnames'\nimport styles from './styles.module.scss'\n\n\ntype Props = {\n  hide: Function,\n  children: any\n}\n\nconst ELEMENT_ID = '__dropdown_component__'\n\nexport default function Dropdown({ children, hide }: Props) {\n  const hideDropdown = (e: any) => {\n    const dropdown = document.getElementById(ELEMENT_ID)\n    if (dropdown && e.target !== dropdown && !dropdown.contains(e.target)) {\n      hide()\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('click', hideDropdown)\n    return () => document.removeEventListener('click', hideDropdown)\n  })\n\n  return (\n    <div\n      id={ELEMENT_ID}\n      className={cx(styles.dropdown, 'solid')}\n    >\n      {children}\n    </div>\n  )\n}\n","import React, { Component, useState, useEffect, useCallback } from 'react'\nimport { Link } from 'react-router-dom'\nimport cx from 'classnames'\nimport { useQuery, useMutation } from 'urql'\nimport useResponsive from '../../utils/useResponsive'\n\n\nimport styles from './styles.module.scss'\nimport { Width } from '../../components/Body'\n\nimport { AlertDropdown, AlertCircle } from './Alerts'\nimport { UserDropdown } from './User'\nimport Dropdown from './Dropdown'\n\nimport { RouteChildrenProps } from 'react-router'\n\nexport type CurrentUserQuery = {\n  currentUser: {\n    id: string,\n    username: string,\n    avatarUrl?: string\n    alerts: Array<{\n      id: string\n      content: string\n      link?: string\n    }>\n  }\n}\n\nconst currentUserQuery = `{\n  currentUser {\n    id\n    username\n    avatarUrl\n    alerts: alertsList (condition: { read: false }) {\n      id\n      content\n      link\n    }\n  }\n}`\n\ntype ReadAlertInput = {\n  input: {\n    alertId: string\n  }\n}\n\ntype ReadAlertResponse = {\n  readAlert: {\n    alert: {\n      id: string,\n      read: boolean\n    }\n  }\n}\n\nconst readAlertMutation = `\nmutation readAlert($input: ReadAlertInput!) {\n  readAlert(input: $input) {\n    alert {\n      id\n      read\n    }\n  }\n}`\n\nexport type Props = RouteChildrenProps\n\nexport type State = {\n  dropdownState: null | 'users' | 'alerts'\n}\n\nfunction Nav(props: Props) {\n  const [dropdownState, setDropdownState] = useState<State['dropdownState']>(null)\n  const [{ data, fetching }, executeQuery] = useQuery<CurrentUserQuery>({ query: currentUserQuery })\n  const [response, executeReadAlert] = useMutation<ReadAlertResponse, ReadAlertInput>(readAlertMutation)\n  const currentUser = (data && data.currentUser) || null\n\n  const readAlert = (alertId: string) => executeReadAlert({ input: { alertId } })\n\n  const hideDropdown = () => setDropdownState(null)\n  useEffect(() => props.history.listen(hideDropdown))\n\n  return (\n    <>\n      <NavBar\n        loading={fetching}\n        currentUser={currentUser}\n        toggleDropdownVisible={setDropdownState}\n      />\n      {dropdownState &&\n        <Dropdown hide={hideDropdown}>\n          {dropdownState === 'users' && <UserDropdown />}\n          {dropdownState === 'alerts' && currentUser && <AlertDropdown\n            alerts={currentUser.alerts}\n            onEmptyClick={hideDropdown}\n            readAlert={readAlert}\n          />}\n        </Dropdown>\n      }\n    </>\n  )\n}\n\n\n\n\ntype NavBarProps = {\n  loading: boolean,\n  currentUser: CurrentUserQuery['currentUser'] | null,\n  toggleDropdownVisible: (state: State['dropdownState']) => void\n}\n\nconst NavBar: React.SFC<NavBarProps> = ({ toggleDropdownVisible, currentUser, loading }) => {\n  return (\n    <nav className={cx(styles.container, 'solid')}>\n      <Width>\n        <div className={styles.content}>\n          <Link to=\"/\">\n            <div className={styles.title}>FriendWorld</div>\n          </Link>\n\n          <div className={styles.links}>\n            {currentUser\n              ? <SignedInMenu currentUser={currentUser} toggleDropdownVisible={toggleDropdownVisible} />\n              : loading ? false : <SignedOutMenu />\n            }\n          </div>\n        </div>\n      </Width>\n    </nav>\n  )\n}\n\ntype SignedInMenuProps = {\n  currentUser: CurrentUserQuery['currentUser']\n  toggleDropdownVisible: NavBarProps['toggleDropdownVisible']\n}\n\nconst SignedInMenu = ({ currentUser, toggleDropdownVisible }: SignedInMenuProps) => {\n  const { isDesktop, isMobile } = useResponsive(540)\n\n  return (\n    <>\n      <div className={styles.link} onClick={() => toggleDropdownVisible('users')}>\n        {currentUser.username}\n        <div\n          className={cx(styles.circle, styles.user)}\n          style={{ backgroundImage: `url(${currentUser.avatarUrl})` }}\n        />\n      </div>\n\n      {isDesktop && <Link to=\"/messages\" className={styles.link}>Messages</Link>}\n\n      {isDesktop && (\n        <div className={styles.link} onClick={() => toggleDropdownVisible('alerts')}>\n          Alerts\n          <AlertCircle unread={currentUser.alerts.length} />\n        </div>\n      )}\n\n      {isMobile && (\n        <div className={styles.link} onClick={() => toggleDropdownVisible('alerts')}>\n          <AlertCircle unread={currentUser.alerts.length} />\n        </div>\n      )}\n    </>\n  )\n}\n\nconst SignedOutMenu = () => (\n  <>\n    <Link to=\"/login\" className={styles.link}>Login</Link>\n    <Link to=\"/signup\" className={styles.link}>Create Account</Link>\n  </>\n)\n\n\n\nexport default Nav\n","import * as React from 'react'\nimport styles from './styles.module.scss'\n\ntype Props = {\n  error: Error | string\n}\n\nconst DisplayError: React.SFC<Props> = ({ error }) => (\n  <div className={styles.error}>\n    An Error Occurred: {JSON.stringify(error, null, 3)}\n  </div>\n)\n\nexport default DisplayError\n","import * as React from 'react'\nimport styles from './styles.module.scss'\n\n\nconst Loading: React.SFC<{}> = () => (\n  <div className={styles.loading}>\n    loading...\n  </div>\n)\n\nexport default Loading\n","import React, { useState } from 'react';\nimport { useMutation } from 'urql'\nimport jwt from '../../utils/jwt'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport styles from './styles.module.scss'\n\n\nconst loginMutation = `\nmutation($input: LoginInput!) {\n  login(input: $input) {\n    jwtToken\n    query {\n      currentUser {\n        id\n        username\n      }\n    }\n  }\n}`\n\n\ntype LoginInput = {\n  input: {\n    username: string,\n    password: string\n  }\n}\ntype LoginResponse = { login: { jwtToken: string }}\ntype Props = {}\n\ntype State = {\n  username: string,\n  password: string\n}\n\nfunction Login() {\n  const [username, setUsername] = useState<string>('')\n  const [password, setPassword] = useState<string>('')\n\n  const [{ error, fetching, data }, executeLogin] = useMutation<LoginResponse, LoginInput>(loginMutation)\n\n  if (data) {\n    jwt.set(username, data.login.jwtToken)\n    jwt.setCurrentUser(username)\n    window.location.href = '/'\n  }\n\n  return (\n    <section className={styles.login}>\n      <div className={styles.card}>\n        <h1>Login</h1>\n        {error && <DisplayError error={error} />}\n        {fetching && <Loading />}\n        {!error && !fetching && (\n          <form>\n            <input\n              name=\"fw_username\"\n              placeholder=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <button\n              className={styles.submitButton}\n              onClick={(e) => {\n                e.preventDefault()\n                if (username && password) {\n                  executeLogin({ input: { username, password } })\n                }\n              }}\n            >\n              Submit\n            </button>\n          </form>\n        )}\n      </div>\n    </section>\n  )\n}\n\nexport default Login\n","import React, { useState } from 'react';\nimport { useMutation } from 'urql'\nimport jwt from '../../utils/jwt'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport styles from './styles.module.scss'\n\nconst signupMutation = `\nmutation($input: SignupInput!) {\n  signup(input: $input) {\n    jwtToken\n  }\n}`\n\n\ntype SignupInput = {\n  input: {\n    username: string,\n    password: string\n  }\n}\n\ntype SignupResponse = { signup: { jwtToken: string }}\n\ntype Props = {}\n\ntype State = {\n  username: string,\n  password: string\n}\n\nfunction Signup() {\n  const [username, setUsername] = useState<string>('')\n  const [password, setPassword] = useState<string>('')\n  const [passwordConfirm, setPasswordConfirm] = useState<string>('')\n  const [errorText, setErrorText] = useState<string>('')\n  const [{ error, fetching, data }, executeSignup] = useMutation<SignupResponse, SignupInput>(signupMutation)\n\n  const signup = () => {\n    if (!username || !password) {\n      setErrorText('Must include username and password.')\n      return\n    }\n    if (password !== passwordConfirm) {\n      setErrorText('Password must match Password Confirmation')\n      return\n    }\n    executeSignup({ input: { username, password } })\n  }\n\n  const displayErrorText = error\n    ? error.message.includes('violates unique constraint')\n      ? 'That username is already taken. Please try again'\n      : error.message\n    : errorText\n      ? errorText\n      : ''\n\n  if (data && !error) {\n    jwt.set(username, data.signup.jwtToken)\n    jwt.setCurrentUser(username)\n    window.location.href = '/'\n  }\n\n  return (\n    <section className={styles.signup}>\n      <div className={styles.card}>\n        <h1>Create Account</h1>\n        <form>\n          <div className={styles.inputs}>\n            <input\n              name=\"fw_username\"\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <input\n              type=\"password\"\n              name=\"password_confirm\"\n              placeholder=\"Password Confirmation\"\n              value={passwordConfirm}\n              onChange={(e) => setPasswordConfirm(e.target.value)}\n            />\n          </div>\n\n          {displayErrorText && <DisplayError error={displayErrorText} />}\n          {fetching && <Loading />}\n          {!fetching && (\n            <button\n              className={styles.submitButton}\n              onClick={(e) => {\n                e.preventDefault()\n                signup()\n              }}\n            >\n              Submit\n            </button>\n          )}\n        </form>\n      </div>\n    </section>\n  )\n}\n\n\n\nexport default Signup\n\n","import * as React from 'react';\nimport { Link } from 'react-router-dom'\n\nimport ParsedText from '../ParsedText'\nimport styles from './styles.module.scss';\n\n\nexport type PostType = {\n  id: string,\n  createdAt: string,\n  content: string,\n  author?: {\n    id: string,\n    username: string\n    avatarUrl?: string\n    postStats?: {\n      totalCount: number\n    }\n  } | null,\n  thread?: {\n    id: string,\n    title: string\n  }\n}\n\ntype Props = {\n  post: PostType\n}\n\nconst Post: React.SFC<Props> = ({ post }) => (\n  <article className={styles.post}>\n    <div className={styles.main}>\n      {!!post.author &&\n        <Link to={`/users/${post.author.username}`} className={styles.panel}>\n          <aside className={styles.panelContainer}>\n            <div className={styles.avatar} style={{ backgroundImage: `url(${post.author.avatarUrl})` }} />\n            <div className={styles.userInfo}>\n              <div className={styles.username}>{post.author.username}</div>\n              {post.author.postStats &&\n                <div className={styles.totalPosts}><strong>Posts:</strong> {post.author.postStats.totalCount}</div>\n              }\n            </div>\n          </aside>\n        </Link>\n      }\n\n\n      <div className={styles.content}>\n        <ParsedText content={post.content} />\n      </div>\n\n    </div>\n    <div className={styles.footer}>\n      <div className={styles.postedAt}>\n        <time>Posted at: {new Date(post.createdAt).toISOString()}</time>\n        <span><Link to={`/posts/${post.id}`}>/posts/{post.id}</Link></span>\n      </div>\n      {!!post.thread && (\n        <div className={styles.threadLink}>\n          In thread: <Link to={`/threads/${post.thread.id}`}>{post.thread.title}</Link>\n        </div>\n      )}\n    </div>\n  </article>\n)\n\nexport default Post\n","import * as React from 'react';\nimport { useMutation, useQuery } from 'urql'\nimport { RouteChildrenProps } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport styles from './styles.module.scss'\nimport Post, { PostType } from '../../components/Post'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\n\n\ntype PostQuery = {\n  post?: PostType\n}\n\nconst postQuery = `\nquery postById ($id: Int!){\n  post: postById (id: $id) {\n    id\n    createdAt\n    content\n    author {\n      id\n      username\n      avatarUrl\n      postStats: authoredPosts {\n        totalCount\n      }\n    }\n    thread {\n      id\n      title\n    }\n  }\n}`\n\n\nconst Posts: React.SFC<{ id: number }> = ({ id }) => {\n  const [{ error, fetching, data }] = useQuery<PostQuery>({ query: postQuery, variables: { id } })\n\n  return (\n    <section>\n      <div className={styles.back}>\n        <Link to=\"/\">{'< Back to forum'}</Link>\n      </div>\n\n      <div className={styles.left}>\n        {error && <DisplayError error={error} />}\n        {fetching && <Loading />}\n        {data && (\n          data.post\n            ? <Post post={data.post}/>\n            : 'This post does not exist!'\n        )}\n      </div>\n    </section>\n\n  )\n}\n\nexport default Posts\n","import * as React from 'react';\nimport styles from './styles.module.scss';\nimport Img from '../Img'\n\ntype Props = {\n  url: string\n  img?: string\n  content?: string\n}\n\nconst Ad: React.SFC<Props> = ({ url, img, content }) => (\n  <div className={styles.ad}>\n    <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n      {img &&\n        <Img url={img} alt={content} />\n      }\n      {content &&\n        <div className={styles.content}>{content}</div>\n      }\n    </a>\n  </div>\n)\n\nexport default Ad\n","import * as React from 'react'\nimport sampleSize from 'lodash/sampleSize'\nimport { useQuery } from 'urql'\nimport { Link } from 'react-router-dom'\nimport Ad from '../../components/Ad'\nimport styles from './styles.module.scss'\n\ntype AdList = Array<{\n  to: string\n  img?: string\n  content?: string\n}>\n\nconst adQuery = `query AdQuery ($n: Int!) {\n  ads: adsList (first: $n) {\n    id\n    url\n    img\n    content\n  }\n}`\n\ntype AdQuery = {\n  ads: Array<{\n    id: string\n    url: string\n    img: string\n    content: string\n  }>\n}\n\ntype Props = {\n  n?: number\n}\nconst AdContainer = ({ n }: Props) => {\n  const [{ data, fetching }] = useQuery<AdQuery>({ query: adQuery, variables: { n: 8 } })\n  if (fetching) return <>loading...</>\n  if (!data) return <></>\n\n  const adList = sampleSize(data.ads, n || 8)\n\n  return (\n    <section className={styles.adContainer}>\n      <div className={styles.label}>SPONSORED CONTENT</div>\n      {adList.map((ad, i) => (\n        <React.Fragment key={i}>\n          <Ad {...ad} />\n        </React.Fragment>\n      ))}\n    </section>\n  )\n}\n\nexport default AdContainer\n","import React, { useState } from 'react'\nimport styles from './styles.module.scss'\nimport profanityFilter from '../../utils/profanityFilter'\n\nconst defaultPlaceholder = \"Join the conversation...\"\n\ntype Props = {\n  onSubmit: (content: string) => unknown,\n  onChange?: (content: string) => unknown,\n  buttonContent?: string,\n  placeholder?: string,\n  inputStyle?: Object\n}\n\nfunction TextInput ({\n  placeholder,\n  buttonContent,\n  inputStyle,\n  onSubmit,\n  onChange,\n}: Props) {\n  const [content, setContent] = useState('')\n\n  const submit = () => {\n    onSubmit(content)\n    setContent('')\n  }\n  const submitOnCommandEnter = (e: any) => {\n    if (e.keyCode === 13 && e.metaKey) {\n      submit()\n    }\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.inner}>\n      <textarea\n        className={styles.contentInput}\n        placeholder={placeholder || defaultPlaceholder}\n        onChange={e => {\n          setContent(e.target.value)\n          onChange && onChange(e.target.value)\n        }}\n        value={content}\n        style={inputStyle}\n        onKeyDown={submitOnCommandEnter}\n      />\n      <button\n        className={styles.submitButton}\n        onClick={submit}\n      >\n        {buttonContent || 'Submit'}\n      </button>\n      </div>\n    </div>\n  )\n}\n\nexport default TextInput\n","\nimport each from 'lodash/each'\n\nexport default function profanityFilter (input: string): string {\n  const swap: any = {\n    motherfucker: 'm0therf_cker',\n    fuck: 'f_ck',\n\n    shit: 'sh!t',\n    ' dick ': 'penis',\n    bitch: 'b&tch',\n\n    cunt: 'c%nt',\n    cocksuck: 'c*cks^ck',\n    cock: 'c*ck',\n\n    nigger: 'african-american',\n    nigga: 'pal',\n\n    ' fag ': 'homosexual',\n    faggot: 'homosexual',\n\n    tranny: 'transexual',\n    ' god ': 'g-d',\n    goddamn: 'goshdarn'\n  }\n\n  each(swap, (replaceTo, replaceFrom) => {\n    input = input.replace(replaceFrom, replaceTo)\n  })\n\n\n  return input\n}\n","import React, { Fragment, useCallback } from 'react';\nimport { useMutation, useQuery, OperationResult } from 'urql'\nimport { RouteChildrenProps } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport cx from 'classnames'\nimport styles from './styles.module.scss'\nimport AdContainer from '../AdContainer'\nimport Post, { PostType } from '../../components/Post'\nimport TextInput from '../../components/TextInput'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport { getTags } from '../../utils/parsers'\nimport useResponsive from '../../utils/useResponsive'\nimport profanityFilter from '../../utils/profanityFilter'\n\n\n\ntype ThreadQuery = {\n  thread?: {\n    id: number\n    title: string\n    posts: Array<PostType>\n  }\n  currentUser?: {\n    id: string\n  }\n}\n\nconst threadQuery = `\nquery threadById ($id: Int!) {\n  thread: threadById (id: $id) {\n    id\n    title\n    posts: postsList {\n      id\n      content\n      createdAt\n      author {\n        id\n        username\n        avatarUrl\n        postStats: authoredPosts {\n          totalCount\n        }\n      }\n    }\n  }\n  currentUser {\n    id\n  }\n}`\n\n\nconst createPostMutation = `\nmutation createPost($input: CreatePostInput!) {\n  createPost(input: $input) {\n    post {\n      id\n      content\n      createdAt\n      author {\n        id\n        avatarUrl\n        username\n      }\n    }\n  }\n}`\n\ntype CreatePostInput = {\n  input: {\n    content: string,\n    threadId: number,\n    tags: string,\n    // {\n    //   hashtags: Array<string>,\n    //   usernames: Array<string>\n    // }\n  }\n}\n\ntype CreatePostResponse = { createPost: { post: PostType } }\n\ntype AddPostProps = {\n  threadId: number,\n  disabled?: boolean\n}\nconst AddPost: React.SFC<AddPostProps> = ({ threadId, disabled }) => {\n  const [response, executeCreatePost] = useMutation<CreatePostResponse, CreatePostInput>(createPostMutation)\n\n  const submit = (content: string) => {\n    if (!content) return\n    executeCreatePost({\n      input: {\n        threadId,\n        content: profanityFilter(content),\n        tags: getTags(content)\n      }\n    })\n  }\n\n  return (\n    <>\n      {disabled && (\n        <Link to=\"/signup\">\n          <h2 className={styles.signup}>Create An Account To Join The Conversation!</h2>\n        </Link>\n      )}\n      <div className={cx(styles.addPost, disabled && styles.disabled)}>\n        <TextInput onSubmit={submit} />\n      </div>\n    </>\n  )\n}\n\n\nconst Threads: React.SFC<{ id: number }> = ({ id }) => {\n  const { isMobile, isDesktop } = useResponsive(820)\n  const [query, executeQuery] = useQuery<ThreadQuery>({ query: threadQuery, variables: { id } })\n\n  const refetch = useCallback(\n    () => executeQuery({ requestPolicy: 'network-only' }),\n    []\n  );\n  const showAd = (i: number) => isMobile && !((i + 1) % 4)\n\n  const isError = query.error && <DisplayError error={query.error} />\n  const isLoading = query.fetching && <Loading />\n  const isData = query.data && (query.data.thread ? (\n    <div className={styles.container}>\n      <header className={styles.threadTitle}>\n        <h2 >{query.data.thread.title}</h2>\n      </header>\n      <div>\n        <Link to={`/threads/${query.data.thread.id}`}>\n          <div className={styles.threadLink}>\n            /threads/{query.data.thread.id}\n          </div>\n        </Link>\n        {query.data.thread.posts.map((post, i) =>\n          <Fragment key={post.id}>\n            {showAd(i) &&\n              <div className={styles.ad}>\n                <AdContainer n={1}/>\n              </div>\n            }\n            <Post post={post} />\n          </Fragment>\n        )}\n        <AddPost\n          threadId={query.data.thread.id}\n          disabled={!query.data.currentUser}\n        />\n      </div>\n    </div>\n  ) : 'This thread does not exist!')\n\n  return (\n    <section>\n      <div className={styles.back}>\n        <Link to=\"/\">{'< Back to forum'}</Link>\n      </div>\n\n      <div className={styles.threadContainer}>\n        <div className={styles.left}>\n          {isError}\n          {isLoading}\n          {isData}\n        </div>\n\n        {isDesktop && <div className={styles.adContainer}><AdContainer /></div>}\n      </div>\n    </section>\n  )\n}\n\nexport default Threads\n\n","import React, { useState } from 'react';\nimport { useQuery, useMutation } from 'urql'\nimport { Link } from 'react-router-dom'\nimport cx from 'classnames'\n\n\nimport styles from './styles.module.scss';\nimport { getTags } from '../../utils/parsers'\nimport profanityFilter from '../../utils/profanityFilter'\nimport TextInput from '../../components/TextInput'\nimport Post from '../../components/Post'\n\n\n\ntype UserQuery = {\n  currentUser?: {\n    id: string\n    username: string\n    avatarUrl: string\n    postStats: {\n      totalCount: number\n    }\n  }\n}\n\nconst userQuery = `{\n  currentUser {\n    id\n    username\n    avatarUrl\n    postStats: authoredPosts {\n      totalCount\n    }\n  }\n}`\n\ntype CreateThreadInput = {\n  input: {\n    title: string,\n    content: string,\n    tags: string\n    // {\n    //   hashtags: Array<string>,\n    //   usernames: Array<string>\n    // }\n  }\n}\ntype CreateThreadResponse = { createThread: { thread: { id: string, title: string } } }\n\nconst createThreadMutation = `\nmutation createThread($input: CreateThreadInput!) {\n  createThread(input: $input) {\n    thread {\n      id\n      title\n    }\n  }\n}`\n\n\nconst NewThread: React.SFC<{}> = () => {\n  const [title, setTitle] = useState<string>('')\n  const [content, setContent] = useState<string>('')\n  const [query] = useQuery<UserQuery>({ query: userQuery })\n  const [response, executeCreateThread] = useMutation<CreateThreadResponse, CreateThreadInput>(createThreadMutation)\n\n  const createThread = () => {\n    if (!title || !content) return\n    executeCreateThread({\n      input: {\n        title: profanityFilter(title),\n        content: profanityFilter(content),\n        tags: getTags(title + ' ' + content),\n      }\n    })\n  }\n\n  if (response.data) {\n    window.location.href = `/threads/${response.data.createThread.thread.id}`\n    return <div />\n  }\n  if (query.fetching || response.fetching) return <span>loading...</span>\n\n  const disabled = query.data && !query.data.currentUser\n  const author = query.data && query.data.currentUser && {\n    ...query.data.currentUser,\n    postStats: {\n      totalCount: query.data.currentUser.postStats.totalCount + 1\n    }\n  }\n\n  return (\n    <section className={styles.newThread}>\n      <div className={styles.back}>\n        <Link to=\"/\">{'< Back to forum'}</Link>\n      </div>\n      {!disabled && <h1 className={styles.sectionTitle}>New Thread</h1>}\n      {disabled && (\n        <Link to=\"/signup\">\n          <h2 className={styles.signup}>Create An Account To Join The Conversation!</h2>\n        </Link>\n      )}\n\n      <div className={cx({ [styles.disabled]: disabled })}>\n        <h2 className={styles.label}>Title</h2>\n        <input\n          className={styles.input}\n          onChange={e => setTitle(e.target.value)}\n          value={title}\n        />\n        <h2 className={styles.label}>Content</h2>\n        <TextInput\n          onSubmit={createThread}\n          onChange={setContent}\n          buttonContent=\"Start Thread\"\n          placeholder=\"\"\n          inputStyle={{ height: '200px' }}\n        />\n        {(title || content) && (\n          <>\n            <h2 className={styles.label}>[PREVIEW] {title}</h2>\n            <Post\n              post={{\n                id: 'XX',\n                createdAt: new Date().toString(),\n                content,\n                author,\n              }}\n            />\n          </>\n        )}\n      </div>\n    </section>\n  )\n}\n\nexport default NewThread\n","import React, { useState } from 'react';\nimport { useQuery, useMutation } from 'urql'\nimport { Link } from 'react-router-dom'\nimport styles from './styles.module.scss'\nimport Post, { PostType } from '../../components/Post'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport useResponsive from '../../utils/useResponsive'\n\nimport { RouteChildrenProps } from 'react-router'\n\ntype CurrentUser = {\n  id: string\n  createdAt: string\n  username: string\n  avatarUrl: string\n  email: string | null\n  gender: string\n  birthday: string | null\n  bio: string\n  job: string\n  interests: string\n  websites: string\n  media: string\n  religion: string\n  politics: string\n  trackingInfo: unknown\n  postStats: {\n    totalCount: number\n  }\n}\ntype CurrentUserQuery = {\n  currentUser: CurrentUser\n}\n\nconst userProps = `\n  id\n  createdAt\n  username\n  avatarUrl\n  email\n  gender\n  birthday\n  bio\n  job\n  interests\n  websites\n  media\n  religion\n  politics\n`\n\nconst currentUserQuery = `{\n  currentUser {\n    ${userProps}\n    trackingInfo\n    postStats: authoredPosts {\n      totalCount\n    }\n  }\n}`\n\n\nconst updateUserMutation = `mutation UpdateUser($input: UpdateUserInput!) {\n  updateUser(input: $input) {\n    user {\n      ${userProps}\n    }\n  }\n}`\n\ntype UpdateUserInput = {\n  input: {\n    avatarUrl?: string\n    email?: string | null\n    gender?: string\n    birthday?: string | null\n    bio?: string\n    job?: string\n    interests?: string\n    websites?: string\n    media?: string\n    religion?: string\n    politics?: string\n  }\n}\n\ntype UpdateUserPayload = {\n  user: UpdateUserInput['input']\n}\n\nconst formatDate = (date: string) => new Date(date).toLocaleString('en-US', {\n  weekday: 'long',\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric'\n})\n\nexport default function Profile() {\n  const [{ data, error, fetching }] = useQuery<CurrentUserQuery>({ query: currentUserQuery })\n  if (error) return <DisplayError error={error} />\n  if (fetching) return <Loading />\n  if (!data) return null\n\n  return <ProfileContent currentUser={data.currentUser}/>\n}\n\nconst validDate = (dateStr: string) => Date.parse(dateStr) ? new Date(dateStr).toISOString() : null\nconst validEmail = (emailStr: string) => emailStr.match(/^.+@.+\\..+$/) ? emailStr : null\n\ntype Props = {\n  currentUser: CurrentUser\n}\n\nfunction ProfileContent ({ currentUser }: Props) {\n  const [avatarUrl, setAvatarUrl] = useState<string>(currentUser.avatarUrl)\n  const [email, setEmail] = useState<string>(currentUser.email || '')\n  const [gender, setGender] = useState<string>(currentUser.gender)\n  const [birthday, setBirthday] = useState<string>(currentUser.birthday || '')\n  const [bio, setBio] = useState<string>(currentUser.bio)\n  const [job, setJob] = useState<string>(currentUser.job)\n  const [interests, setInterests] = useState<string>(currentUser.interests)\n  const [websites, setWebsites] = useState<string>(currentUser.websites)\n  const [media, setMedia] = useState<string>(currentUser.media)\n  const [religion, setReligion] = useState<string>(currentUser.religion)\n  const [politics, setPolitics] = useState<string>(currentUser.politics)\n\n  const [submitted, setSubmitted] = useState<boolean>(false)\n  const { isMobile, isDesktop } = useResponsive(540)\n\n\n  const [response, executeUpdateUser] = useMutation<UpdateUserPayload, UpdateUserInput>(updateUserMutation)\n\n  const bdayError = submitted && birthday && !validDate(birthday) ? 'Birthday must be a valid date' : ''\n  const emailError = submitted && email && !validEmail(email) ? 'Email must be in correct format' : ''\n\n  const header = (\n    <header className={styles.header}>\n      <h1 className={styles.intro}>Update Profile: {currentUser.username}</h1>\n      <div>uuid: {currentUser.id}</div>\n    </header>\n  )\n\n  const updateUser = () => {\n    setSubmitted(true)\n    executeUpdateUser({\n      input: {\n        email: validEmail(email),\n        birthday: validDate(birthday),\n        avatarUrl,\n        gender,\n        bio,\n        job,\n        interests,\n        websites,\n        media,\n        religion,\n        politics\n      }\n    })\n  }\n\n  return (\n    <div className={styles.profile}>\n      {isMobile && header}\n      <div className={styles.content}>\n        <div className={styles.left}>\n          <div>\n            <div className={styles.avatar} style={{ backgroundImage: `url(${avatarUrl})` }} />\n            <div><strong>Posts:</strong> {currentUser.postStats.totalCount}</div>\n          </div>\n        </div>\n\n        <div className={styles.right}>\n          {isDesktop && header}\n          <div className={styles.buttonContainer}>\n            <button className={styles.submitButton} onClick={updateUser}>UPDATE PROFILE</button>\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Avatar Url</h3>\n            <input className={styles.contentInput} value={avatarUrl} onChange={e => setAvatarUrl(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Email</h3>\n            <input className={styles.contentInput} value={email} onChange={e => setEmail(e.target.value)} />\n            {!!emailError && <div>{emailError}</div>}\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Gender</h3>\n            <input className={styles.contentInput} value={gender} onChange={e => setGender(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Birthday</h3>\n            <input className={styles.contentInput} value={birthday} onChange={e => setBirthday(e.target.value)} />\n            {!!bdayError && <div>{bdayError}</div>}\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>About Me</h3>\n            <textarea placeholder=\"Tell us about yourself!\" className={styles.contentInput} value={bio} onChange={e => setBio(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Occupation</h3>\n            <input className={styles.contentInput} value={job} onChange={e => setJob(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Favorite Websites</h3>\n            <input className={styles.contentInput} value={websites} onChange={e => setWebsites(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Favorite Movies, TV shows, and Music</h3>\n            <input className={styles.contentInput} value={media} onChange={e => setMedia(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Religious Views</h3>\n            <input className={styles.contentInput} value={religion} onChange={e => setReligion(e.target.value)} />\n          </div>\n\n          <div className={styles.inputSection}>\n            <h3>Political Views</h3>\n            <input className={styles.contentInput} value={politics} onChange={e => setPolitics(e.target.value)} />\n          </div>\n\n          <div className={styles.buttonContainer}>\n            <button className={styles.submitButton} onClick={updateUser}>UPDATE PROFILE</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","import React, { Component } from 'react';\nimport { useQuery } from 'urql'\nimport styles from './styles.module.scss'\nimport { Link } from 'react-router-dom'\nimport Post from '../../components/Post'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport useResponsive from '../../utils/useResponsive'\n\nconst userProps = `\n  id\n  createdAt\n  username\n  avatarUrl\n  email\n  gender\n  birthday\n  bio\n  job\n  interests\n  websites\n  media\n  religion\n  politics\n`\nconst userQuery = `\nquery userByUsername ($username: UsernameDomain!){\n  user: userByUsername (username: $username) {\n    id\n    createdAt\n    username\n    avatarUrl\n    email\n    gender\n    birthday\n    bio\n    job\n    interests\n    websites\n    media\n    religion\n    politics\n    trackingInfo\n    postStats: authoredPosts {\n      totalCount\n    }\n    posts: authoredPostsList (first: 10, orderBy: [CREATED_AT_DESC]) {\n      id\n      content\n      createdAt\n      thread {\n        id\n        title\n      }\n    }\n  }\n}`\n\ntype UserQuery = {\n  user: {\n    id: string\n    createdAt: string\n    username: string\n    avatarUrl: string | null\n    email: string | null\n    gender: string | null\n    birthday: string | null\n    bio: string | null\n    job: string | null\n    interests: string | null\n    websites: string | null\n    media: string | null\n    religion: string | null\n    politics: string | null\n    postStats: {\n      totalCount: number\n    }\n    posts: Array<{\n      id: string\n      content: string\n      createdAt: string\n      thread: {\n        id: string\n        title: string\n      }\n\n    }>\n  }\n}\n\nconst InfoSection = ({ title, info }: { title: string, info: any }) => (\n  info && (\n    <div className={styles.infoSection}>\n      <h3>{title}</h3>\n      <p>{info}</p>\n    </div>\n  )\n)\n\ntype Props = {\n  username: string\n}\n\nconst formatDate = (date: string) => new Date(date).toLocaleString('en-US', {\n  weekday: 'long',\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric'\n})\n\nconst User: React.SFC<Props> = ({ username }) => {\n  const [{ error, fetching, data }] = useQuery<UserQuery>({ query: userQuery, variables: { username } })\n  const { isMobile, isDesktop } = useResponsive(540)\n\n  if (error) return <DisplayError error={error} />\n  if (fetching) return <Loading />\n  if (!data) return <div />\n  const { user } = data\n\n  const header = (\n    <header className={styles.header}>\n      <h1 className={styles.intro}>Welcome to {user.username}'s Profile!</h1>\n      <h4 className={styles.memberSince}>{user.username} has been a member since {formatDate(user.createdAt)}</h4>\n    </header>\n  )\n\n  return (\n    <div className={styles.profile}>\n      {isMobile && header}\n      <div className={styles.content}>\n        <div className={styles.left}>\n          <div>\n            <div className={styles.avatar} style={{ backgroundImage: `url(${user.avatarUrl})` }} />\n            <div><strong>Posts:</strong> {user.postStats.totalCount}</div>\n            <div className={styles.sendMessage}>\n              <Link to={`/messages/${user.username}`}>Send Message to {user.username}</Link>\n            </div>\n          </div>\n        </div>\n\n        <div className={styles.right}>\n          {isDesktop && header}\n          <div className={styles.userInfo}>\n\n          <InfoSection title=\"Gender\" info={user.gender} />\n          <InfoSection title=\"Birthday\" info={user.birthday} />\n          <InfoSection title=\"About Me\" info={user.bio} />\n          <InfoSection title=\"Occupation\" info={user.job} />\n          <InfoSection title=\"Favorite Websites\" info={user.websites} />\n          <InfoSection title=\"Favorite Movies, TV shows, and Music\" info={user.media} />\n          <InfoSection title=\"Religious Views\" info={user.religion} />\n          <InfoSection title=\"Political Views\" info={user.politics} />\n\n          </div>\n          <div className={styles.recentPosts}>\n            {user.posts.length ? (<>\n              <h2>Recent posts by {user.username}:</h2>\n              {user.posts.map(post => (\n                <div className={styles.postContainer} key={post.id}>\n                  <Post post={post} />\n                </div>\n              ))}\n            </>) : (\n              <h3>This user has not made any posts yet!</h3>\n            )}\n          </div>\n\n          <div className={styles.uuid}>user uuid: {user.id}</div>\n        </div>\n\n      </div>\n    </div>\n  )\n}\n\nexport default User\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom'\nimport { useQuery } from 'urql'\nimport orderBy from 'lodash/orderBy'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport styles from './styles.module.scss'\n\nconst messagesDataQuery = `{\n  messageData: currentUser {\n    username\n    sent: messagesSentList {\n      createdAt\n      user: to {\n        username\n      }\n    }\n    received: messagesReceivedList {\n      createdAt\n      user: from {\n        username\n      }\n    }\n  }\n}`\n\ntype MessageData = {\n  createdAt: string\n  user: {\n    username: string\n  }\n}\ntype MessagesDataQuery = {\n  messageData: {\n    username: string\n    sent: Array<MessageData>\n    received: Array<MessageData>\n  }\n}\n\nconst collectMessages = (\n  messages: Map<string, Date>,\n  { createdAt, user: { username } }: MessageData\n) => {\n  const _createdAt = new Date(createdAt)\n  // @ts-ignore\n  if (!messages.has(username) || (messages.get(username) < _createdAt)) {\n    messages.set(username, _createdAt)\n  }\n  return messages\n}\n\nconst uniqueSortedUsers = (messageData: MessagesDataQuery['messageData']) => {\n  const allMessages = [...messageData.sent, ...messageData.received]\n  const messages = allMessages.reduce(collectMessages, new Map())\n\n  const values = Array.from(messages.entries())\n  return orderBy(values, [1]).reverse().map(m => m[0])\n}\n\nexport default function SidePanel() {\n  const [{ error, fetching, data }] = useQuery<MessagesDataQuery>({\n    query: messagesDataQuery\n  })\n\n  if (error) return <DisplayError error={error} />\n  if (fetching) return <Loading />\n  if (!data) return null\n\n  const messageNames = uniqueSortedUsers(data.messageData)\n\n\n  return (\n    <aside className={styles.sidePanelContainer}>\n      <div className={styles.sidePanel}>\n        {messageNames.length ?\n          messageNames.map(username => (\n            <Fragment key={username}>\n              <Link to={`/messages/${username}`}>\n                <div className={styles.user}>{username}</div>\n              </Link>\n            </Fragment>\n          ))\n          : <div className={styles.emptyUsers}>You have no conversations.</div>\n        }\n      </div>\n    </aside>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useQuery, useMutation } from 'urql'\nimport { Link, Redirect } from 'react-router-dom'\nimport orderBy from 'lodash/orderBy'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport ParsedText from '../../components/ParsedText'\nimport styles from './styles.module.scss'\n\n\nconst requestedUserQuery = `query messagesByUsername ($username: UsernameDomain!) {\n  currentUser {\n    username\n  }\n  requestedUser: userByUsername(username: $username) {\n    sent: messagesSentList {\n      id\n      content\n      createdAt\n      to {\n        username\n      }\n      from {\n        username\n      }\n    }\n    received: messagesReceivedList {\n      id\n      content\n      createdAt\n      to {\n        id\n        username\n      }\n      from {\n        id\n        username\n      }\n    }\n  }\n}`\n\nconst createMessageMutation = `mutation createMessage ($input: CreateMessageInput!) {\n  createMessage (input: $input) {\n    message {\n      id\n      content\n      from {\n        id\n        username\n      }\n    }\n  }\n}`\n\ntype Message = {\n  id: string\n  content: string\n  createdAt: string\n  to: {\n    id: string\n    username: string\n  }\n  from: {\n    id: string\n    username: string\n  }\n}\n\ntype RequestedUserQuery = {\n  currentUser: {\n    username: string\n  }\n  requestedUser: {\n    sent: Array<Message>\n    received: Array<Message>\n  }\n}\n\ntype CreateMessageInput = {\n  input: {\n    toUsername: string\n    content: string\n  }\n}\n\ntype CreateMessagePayload = {\n  createMessage: {\n    message: Message\n  }\n}\n\ntype Props = {\n  username?: string | null\n}\n\nexport default function MessagePanel ({ username }: Props) {\n  const $sentMessages = useRef<any>(null)\n  const [messageToSend, setMessageToSend] = useState<string>('')\n  const [{ error, fetching, data }] = useQuery<RequestedUserQuery>({\n    query: requestedUserQuery,\n    variables: { username: username || '' }\n  })\n  const [\n    response,\n    executeCreateMessage\n  ] = useMutation<CreateMessagePayload, CreateMessageInput>(createMessageMutation)\n\n  useEffect(() => {\n    if ($sentMessages.current) {\n      $sentMessages.current.scrollTop = $sentMessages.current.scrollHeight\n    }\n  })\n\n  const sendMessage = (keyPressed?: string) => {\n    if (keyPressed === 'Enter' && !!messageToSend) {\n      executeCreateMessage({\n        input: {\n          content: messageToSend,\n          toUsername: username || ''\n        }\n      })\n      setMessageToSend('')\n    }\n  }\n\n  if (error) return <DisplayError error={error} />\n  if (fetching) return <Loading />\n  if (!data) return null\n\n  if (data.currentUser.username === username) return <Redirect to=\"/messages\" />\n\n  const collectedMessages = data.requestedUser ? collectMessages(data.requestedUser) : []\n  const sentMessages = collectedMessages.map(message => (\n    <div className={styles.message} key={message.id}>\n      <div className={styles.sender}>\n        <Link to={`/users/${message.from.username}`}>\n          <strong>\n            {message.from.username}\n          </strong>\n        </Link>\n        <time>[{message.createdAt}]</time>\n      </div>\n      <div className={styles.content}>\n        <ParsedText content={message.content} />\n      </div>\n    </div>\n  ))\n\n  return (\n    <section className={styles.messagePanel}>\n      {!data.requestedUser && `${username} is not an active FriendWorld user`}\n      {data.requestedUser && <>\n        <div ref={$sentMessages} className={styles.sentMessages}>\n          {data.requestedUser && (collectedMessages.length\n            ? sentMessages\n            : `Send ${username} a message!`\n          )}\n        </div>\n\n        <input\n          className={styles.sendBox}\n          value={messageToSend}\n          onChange={e => setMessageToSend(e.target.value)}\n          onKeyPress={e => sendMessage(e.key)}\n          placeholder=\"Press ENTER to send message\"\n        />\n      </>}\n\n    </section>\n  )\n}\n\nconst collectMessages = (requestedUser: RequestedUserQuery['requestedUser']) => orderBy([\n  ...requestedUser.received,\n  ...requestedUser.sent\n], 'createdAt')\n","import React, { Fragment, useState } from 'react'\nimport { useMutation } from 'urql'\nimport cx from 'classnames'\n\nimport styles from './styles.module.scss'\n\nconst createMessageMutation = `mutation createMessage ($input: CreateMessageInput!) {\n  createMessage (input: $input) {\n    message {\n      id\n      content\n      from {\n        id\n        username\n      }\n    }\n  }\n}`\n\ntype Message = {\n  id: string\n  content: string\n  createdAt: string\n  to: {\n    id: string\n    username: string\n  }\n  from: {\n    id: string\n    username: string\n  }\n}\n\ntype CreateMessageInput = {\n  input: {\n    toUsername: string\n    content: string\n  }\n}\n\ntype CreateMessagePayload = {\n  createMessage: {\n    message: Message\n  }\n}\n\nexport default function NewMessagePanel() {\n  const [messageToSend, setMessageToSend] = useState<string>('')\n  const [newUser, setNewUser] = useState<string>('')\n  const [\n    response,\n    executeCreateMessage\n  ] = useMutation<CreateMessagePayload, CreateMessageInput>(createMessageMutation)\n\n  const sendMessage = () => {\n    if (!!messageToSend && !!newUser) {\n      executeCreateMessage({\n        input: {\n          content: messageToSend,\n          toUsername: newUser\n        }\n      }).then(() => {\n        window.location.href = `messages/${newUser}`\n      })\n    }\n  }\n\n  return (\n    <section className={styles.messagePanel}>\n      <div>\n        Send a new message to:\n        <div>\n          <input\n            className={styles.sendBox}\n            placeholder=\"Enter username here\"\n            value={newUser}\n            onChange={e => setNewUser(e.target.value)}\n          />\n          <textarea\n            className={cx(styles.sendBox, styles.newMessageBox)}\n            value={messageToSend}\n            onChange={e => setMessageToSend(e.target.value)}\n            placeholder=\"Enter message here\"\n          />\n        </div>\n        <button className={styles.submitButton} onClick={sendMessage}>Send</button>\n      </div>\n    </section>\n  )\n}\n","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom'\n\nimport { useQuery } from 'urql'\nimport orderBy from 'lodash/orderBy'\nimport styles from './styles.module.scss'\nimport useResponsive from '../../utils/useResponsive'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport SidePanel from './SidePanel'\nimport MessagePanel from './MessagePanel'\nimport NewMessagePanel from './NewMessagePanel'\n\n\nconst currentUserQuery = `{\n  currentUser {\n    username\n  }\n}`\n\ntype CurrentUserQuery = {\n  currentUser?: {\n    username: string\n  }\n}\n\ntype Props = {\n  username?: string | null\n}\n\ntype State = {\n  newMessage: boolean\n}\n\nconst Messages: React.SFC<Props> = ({ username }) => {\n  const { isMobile, isDesktop } = useResponsive(450)\n  const [newMessage, setNewMessage] = useState<State['newMessage']>(false)\n  const [{ data, error, fetching }] = useQuery<CurrentUserQuery>({ query: currentUserQuery })\n\n  if (data && !data.currentUser) {\n    return <Redirect to=\"/signup\" />\n  } else if (data && data.currentUser && data.currentUser.username === username) {\n    return <Redirect to=\"/messages\" />\n  }\n\n  return (\n    <div className={styles.messages}>\n      <header className={styles.header}>\n        <h1>Message Console</h1>\n        {isMobile && (newMessage || username)\n          ? <Link to=\"/messages\" onClick={() => setNewMessage(false)}>{'< All Messages'}</Link>\n          : <Link to=\"/messages\" onClick={() => setNewMessage(true)}>New Message</Link>\n        }\n      </header>\n\n      <section className={styles.messagesSection}>\n        {isMobile && (\n          <div className={styles.mobileContainer}>\n            {username && <MessagePanel username={username} />}\n            {!username && newMessage && <NewMessagePanel />}\n            {!username && !newMessage && <SidePanel />}\n          </div>\n        )}\n\n        {isDesktop && (\n          <div className={styles.desktopContainer}>\n            <SidePanel />\n\n            {username && <MessagePanel username={username} />}\n            {!username && <NewMessagePanel />}\n\n          </div>\n        )}\n      </section>\n    </div>\n  )\n}\n\nexport default Messages\n","import * as React from 'react';\nimport { useQuery } from 'urql'\nimport { Link } from 'react-router-dom'\nimport styles from './styles.module.scss'\nimport useResponsive from '../../utils/useResponsive'\n\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport AdContainer from '../AdContainer'\n\n\nconst threadQuery = `{\n  threads: threadsList (orderBy: [LATEST_POST_TIME_DESC]) {\n    id\n    title\n    latestPostTime\n    postStats: posts {\n      totalCount\n    }\n    posts: postsList (first: 1, orderBy: [CREATED_AT_DESC]) {\n      author {\n        username\n      }\n    }\n  }\n}`\n\ntype Thread = {\n  id: string,\n  title: string,\n  latestPostTime: string,\n  posts: Array<{ author: { username: string } }>\n  postStats: {\n    totalCount: number\n  }\n}\ntype ThreadQuery = {\n  threads: Array<Thread>\n}\n\nconst ThreadPost = ({ thread }: { thread: Thread }) => {\n  const userName = thread.posts[0] && thread.posts[0].author.username\n  const title = thread.title.length > 297\n    ? thread.title.substring(0, 297) + '...'\n    : thread.title\n\n  return (\n    <article key={thread.id} className={styles.threadPost}>\n      <Link className={styles.postLink} to={`/threads/${thread.id}`}>{title}</Link>\n      <div className={styles.info}><strong>LAST POST:</strong> <time>[{thread.latestPostTime}]</time></div>\n      <div className={styles.info}><strong>by: </strong>\n        <Link to={`/users/${userName}`}>{userName}</Link>\n      </div>\n      <div className={styles.info}><strong>POSTS:</strong> {thread.postStats.totalCount}</div>\n    </article>\n  )\n}\n\n\nconst Forum: React.SFC<{}> = () => {\n  const { isMobile, isDesktop } = useResponsive(540)\n  const [{ fetching, error, data }] = useQuery<ThreadQuery>({ query: threadQuery })\n  const showAd = (i: number) => isMobile && !((i + 1) % 6)\n\n  return (\n    <section className={styles.forum}>\n      <section className={styles.left}>\n        {fetching && <Loading />}\n        {error && <DisplayError error={error} />}\n        {data && (\n          <>\n            <header className={styles.header}>\n              <h1>Forum</h1>\n              <Link to=\"/threads/new\">\n                Start A Thread!\n              </Link>\n            </header>\n            {data.threads.map((thread, i) =>\n              <React.Fragment key={thread.id}>\n                {showAd(i) && <div className={styles.adContainer}><AdContainer n={1} /></div>}\n                <ThreadPost thread={thread} />\n              </React.Fragment>\n            )}\n          </>\n        )}\n      </section>\n      {isDesktop && <AdContainer />}\n    </section>\n\n  )\n}\n\nexport default Forum\n","import React, { useState } from 'react';\nimport { useQuery } from 'urql'\nimport DisplayError from '../../components/DisplayError'\nimport Loading from '../../components/Loading'\nimport styles from './styles.module.scss'\n\n\nconst statsQuery = `{\n  userStatsList {\n    username\n    postCount\n  }\n}`\n\ntype StatsQuery = {\n  userStatsList: Array<{\n    username: string\n    postCount: string\n  }>\n}\n\n\n\nfunction Stats() {\n  const [{ error, fetching, data }] = useQuery<StatsQuery>({ query: statsQuery })\n\n  if (error) {\n    debugger\n    return <DisplayError error={error} />\n  }\n  if (fetching) return <Loading />\n  if (!data) return null\n\n  return (\n    <section className={styles.stats}>\n      <h1>User Stats</h1>\n      <h2>Top Posters:</h2>\n      <ol>\n        {data.userStatsList.map((stat, i) => (\n          <li>\n            {i + 1}. {stat.username}: {stat.postCount}\n          </li>\n        ))}\n      </ol>\n    </section>\n  )\n}\n\nexport default Stats\n","import * as React from 'react'\nimport { withRouter, Route, Switch } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\nimport jwt from './utils/jwt'\n\nimport Body, { Width } from './components/Body'\nimport Nav from './containers/Nav'\nimport Login from './containers/Login'\nimport Signup from './containers/Signup'\nimport Posts from './containers/Posts'\nimport Threads from './containers/Threads'\nimport NewThread from './containers/NewThread'\n\nimport Profile from './containers/Profile'\nimport User from './containers/User'\nimport Messages from './containers/Messages'\nimport Forum from './containers/Forum'\nimport Stats from './containers/Stats'\n\n\nclass App extends React.Component<RouteComponentProps> {\n  componentDidUpdate(prevProps: RouteComponentProps) {\n    if (this.props.location !== prevProps.location) {\n      window.scrollTo(0, 0)\n    }\n  }\n\n  render() {\n    return (\n      <main className=\"App\">\n        <Route path=\"/\" component={Nav} />\n\n        <Body>\n          <Switch>\n            <Route exact path=\"/\" component={Forum} />\n            <Route exact path=\"/threads/new\" component={NewThread} />\n\n            <Route exact path=\"/threads/:id\" render={({ match }) =>\n              <Threads id={Number(match.params.id)} />\n            }/>\n\n            <Route exact path=\"/messages\" render={({ match }) =>\n              <Messages />\n            }/>\n\n            <Route path=\"/messages/:username\" render={({ match }) =>\n              <Messages username={match.params.username} />\n            }/>\n\n\n            <Route path=\"/posts/:id\" render={({ match }) =>\n              <Posts id={Number(match.params.id)} />\n            }/>\n\n            <Route path=\"/users/:username\" render={({ match }) =>\n              <User username={match.params.username} />\n            }/>\n\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n            <Route exact path=\"/profile\" component={Profile} />\n            <Route exact path=\"/stats\" component={Stats} />\n\n          </Switch>\n        </Body>\n\n        <footer style={{ fontSize: '11px', padding: '10px 0'}}>\n          <Width>(c) 2019 FriendWorld.social</Width>\n        </footer>\n      </main>\n    )\n  }\n}\n\n\n\n\nexport default withRouter(App)\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider, createClient } from 'urql';\nimport App from './App';\nimport jwt from './utils/jwt'\n\nconst isProd = true//process.env.NODE_ENV === 'production'\nconst client = createClient({\n  url: isProd\n    ? 'https://friendworld.appspot.com/graphql'\n    : 'http://localhost:5000/graphql',\n  fetchOptions: () => {\n    const jwtToken = jwt.get()\n    if (jwtToken) {\n      return {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        }\n      }\n    } else {\n      return {}\n    }\n  }\n})\n\nconst hours = new Date().getHours();\nif (hours < 5 || hours >= 21) document.body.className = 'nightmode';\n\nconst basename = isProd ? '/friendworld' : '/'\n\nReactDOM.render(\n  (\n    <Provider value={client}>\n      <Router basename={basename}>\n        <App />\n      </Router>\n    </Provider>\n  ),\n  document.getElementById('root')\n );\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup\":\"styles_signup__1TBgB\",\"card\":\"styles_card__2i6Va\",\"inputs\":\"styles_inputs__2-zI-\",\"submitButton\":\"styles_submitButton__1RQ0F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1c7gy\",\"inner\":\"styles_inner__2Y1v5\",\"contentInput\":\"styles_contentInput__1FYQK\",\"submitButton\":\"styles_submitButton__F4S4o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__kQFtS\",\"intro\":\"styles_intro__jn8Dm\",\"memberSince\":\"styles_memberSince__6_eN_\",\"content\":\"styles_content__2k8HI\",\"left\":\"styles_left__3RLgw\",\"right\":\"styles_right__1wvr3\",\"avatar\":\"styles_avatar__up-xt\",\"postContainer\":\"styles_postContainer__8sWw_\",\"recentPosts\":\"styles_recentPosts__2pfm9\",\"inputSection\":\"styles_inputSection__3flum\",\"contentInput\":\"styles_contentInput__1yKr9\",\"submitButton\":\"styles_submitButton__qntJH\",\"profile\":\"styles_profile__CnGcI\",\"buttonContainer\":\"styles_buttonContainer__21qge\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"styles_login__1bddG\",\"card\":\"styles_card__342W-\",\"submitButton\":\"styles_submitButton__3gLIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3ZrW4\",\"content\":\"styles_content__mkpSL\",\"title\":\"styles_title__g_H6k\",\"links\":\"styles_links__1lT-N\",\"link\":\"styles_link__2r07p\",\"user\":\"styles_user__KXrwW\",\"circle\":\"styles_circle__3a6lQ\",\"label\":\"styles_label__3nbc0\",\"unread\":\"styles_unread__39lvg\",\"Unread\":\"styles_Unread__20_Xf\",\"Rotate\":\"styles_Rotate__Jr-hj\",\"dropdown\":\"styles_dropdown__3tTva\",\"alert\":\"styles_alert__2nkwt\",\"alertDropdown\":\"styles_alertDropdown__28W3J\",\"noAlerts\":\"styles_noAlerts__aWfQ5\",\"userDropdown\":\"styles_userDropdown__3RMMv\",\"switchAccounts\":\"styles_switchAccounts__3Okr5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"width\":\"styles_width__2uPjX\",\"body\":\"styles_body__3rj8V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"styles_back__3PY0I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ad\":\"styles_ad__tC5Qg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"adContainer\":\"styles_adContainer__lMNuW\",\"label\":\"styles_label__2MmNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__hU_hQ\",\"messagesSection\":\"styles_messagesSection__2TjQW\",\"mobileContainer\":\"styles_mobileContainer__2EvvN\",\"desktopContainer\":\"styles_desktopContainer__hT0b1\",\"messagePanel\":\"styles_messagePanel__3ea8x\",\"sentMessages\":\"styles_sentMessages__-5hBn\",\"newMessageBox\":\"styles_newMessageBox__151Oc\",\"sendBox\":\"styles_sendBox__2qRGc\",\"submitButton\":\"styles_submitButton__3lvS8\",\"message\":\"styles_message__Ok6NK\",\"sender\":\"styles_sender__2ZGF9\",\"sidePanelContainer\":\"styles_sidePanelContainer__3Z_GC\",\"emptyUsers\":\"styles_emptyUsers__2F5wl\",\"sidePanel\":\"styles_sidePanel__2cb8A\",\"user\":\"styles_user__3s6J6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"x\":\"styles_x__2XNkA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"styles_img__2wl0K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"styles_error__30xW5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"styles_error__1xxt1\"};"],"sourceRoot":""}