(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={header:"styles_header__2wLxh",profile:"styles_profile__31rzl",intro:"styles_intro__1X3Y3",memberSince:"styles_memberSince__1jhAK",sendMessage:"styles_sendMessage__3284j",content:"styles_content__1_9jW",left:"styles_left__vhBr7",right:"styles_right__1-xIl",avatar:"styles_avatar__1sUtC",postContainer:"styles_postContainer__35feo",recentPosts:"styles_recentPosts__1aAFm",infoSection:"styles_infoSection__2k3k7",uuid:"styles_uuid__36WGZ"}},104:function(e,t,a){},14:function(e,t,a){e.exports={post:"styles_post__2wjTj",avatar:"styles_avatar__2GJc8",header:"styles_header__19BhD",threadLink:"styles_threadLink__3x7tb",username:"styles_username__2fJ1r",totalPosts:"styles_totalPosts__1YOIB",main:"styles_main__TKFmC",panel:"styles_panel__3ULdb",panelContainer:"styles_panelContainer__2nRTc",userInfo:"styles_userInfo__3SK-L",content:"styles_content__2Ru5-",footer:"styles_footer__dMb2p",postedAt:"styles_postedAt__9cLJi"}},15:function(e,t,a){e.exports={threadTitle:"styles_threadTitle__nzF4M",signup:"styles_signup__2AxnY",disabled:"styles_disabled__1TmJj",left:"styles_left__1P-Yx",back:"styles_back__2jFxT",threadLink:"styles_threadLink__1hkCr",addPost:"styles_addPost__1-izz",adContainer:"styles_adContainer__2ZcDv",ad:"styles_ad__36g-4",threadContainer:"styles_threadContainer__22gH-"}},16:function(e,t,a){e.exports={header:"styles_header__VUeZN",startThread:"styles_startThread__2DdKA",quickLinks:"styles_quickLinks__cJQge",info:"styles_info__2f1QB",threadPost:"styles_threadPost__3SWHg",postLink:"styles_postLink__2yHjb",forum:"styles_forum__AVThT",adContainer:"styles_adContainer__3zUCc",left:"styles_left__2_RIC"}},19:function(e,t,a){e.exports={back:"styles_back__3iTuS",input:"styles_input__rHUWj",sectionTitle:"styles_sectionTitle__2wqKD",label:"styles_label___0hEN",signup:"styles_signup__34diQ",disabled:"styles_disabled__3WJTC"}},219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(82),c=a.n(s),l=(a(104),a(223)),i=a(3),o=a(83),u=a(84),m=a(96),d=a(85),p=a(97),g=a(222),f=a(226),h=a(225),_=a(45),E=a(57),v=a.n(E),b=function(e){var t=e.children,a=Object(_.a)(e,["children"]);return n.createElement("div",Object.assign({className:v.a.width},a),t)},y=function(e){var t=e.children;return n.createElement("div",{className:v.a.body},n.createElement(b,null,t))},k=a(1),j=a(221),O=a(11),N=a.n(O),w=function(){return{innerHeight:window.innerHeight,innerWidth:window.innerWidth}},C=function(e,t){return function(){return window.addEventListener(e,t),function(){return window.removeEventListener(e,t)}}};function S(e){var t=Object(n.useState)(w().innerWidth<=e),a=Object(k.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)(C("resize",function(){var t=r,a=w().innerWidth<=e;t!==a&&s(a)})),{isMobile:r,isDesktop:!r}}var U=a(5),T=a.n(U),x=a(18),I=a(86),A=a.n(I),P={border:"1px solid",borderRadius:"100%"},L=function(e){var t=e.onClick,a=e.ring;return n.createElement("span",{className:A.a.x,style:a?P:{},onClick:t},"x")},B=a(6),M={male:["man","male","m","boy","guy","b","dude","bro","penis","dick","cock"],female:["woman","female","f","girl","g","gal","broad","bitch","vagina"],other:["transgender","transexual","trans","t","transmasculine","transfeminine","intergender","agender","androgynous"]},q=new Set([].concat(["fastcash","fastcashmoneyplus","fastcashmoneyplusbiz","fastcashmoneybiz","moneybucks","bucks","fast","cash","money","rich","wealth","saving","savings","crypto","cryptocurrency","bitcoin","btc","ethereum","eth","invest","investing","finance","ico","fortune","millionaire","billionaire","blockchain","economy","payment","trick","profit"],["woo","spirit","spirituality","god","chakra","chakras","sound","meditation","reality","dream","dreams","hypnosis","mantra","mantras","technique","energy","karma","cleanse","vegan","ascend","ascension","newage"],["sad","depressed","melencholy","anxious","anxiety","depression","anhedonia","motivation","happy","mental","brain","suicide","suicidal","ocd","obsessed","scared","fear","emptiness","cbd","antidepressant"],["politics","political","government","taxes","democrats","republicans","gop","liberal","liberals","conservative","conservatives","libtards","cucks","cuck","trump","clinton","jews","rockefellers","jfk","fascism","fascist","socialist","socialism","abortion","guns","shillary","sjw","sjws","social","justice","warriors","global","china","russia","fakebullshit","fakebullshitnews"],["achieve","love","sex","greed","power","pizza","hammers","soap","puppies","cats","friendworld","friendworldsocial","trains","subway","food","candy","family"],["ti","targeted","target","tracking","conspiracy","nuclear","drone","5g","radiation","alien","aliens","ufo","ufos","roswell","brain","mind-control","chemtrails","tracking"],Object(B.a)(M.male),Object(B.a)(M.female),Object(B.a)(M.other),["fastcash","fastcashmoneyplus","fastcashmoneyplusbiz","fastcashmoneybiz","moneybucks","bucks","fast","cash","money","rich","wealth","saving","savings","crypto","cryptocurrency","bitcoin","btc","ethereum","eth","invest","investing","finance","ico","fortune","millionaire","billionaire","blockchain","economy","payment","trick","profit","throwing","economic","explosion","market","comfort","home","house","apartment","success","food","taste","suit","dream","dreams","sleep","pillow","weird","family","vortex","hillary","clinton","politics","political","government","democrats","republicans","gop","liberal","liberals","conservative","conservatives","libtards","cucks","cuck","socialist","socialism","shillary","sjw","sjws","social","justice","warriors","science","chemicals","chemtrails","target","targeted","targeting","woo","cleanse","spirit","mental","spirituality","god","chakra","chakras","sound","meditation","reality","hypnosis","mantra","mantras","technique","energy","karma","vegan","ascend","ascension","newage","consciousness","ti","individual","tracking","conspiracy","nuclear","drone","5g","radiation","alien","aliens","ufo","ufos","roswell","brain","mind-control","sad","depressed","melencholy","anxious","anxiety","depression","anhedonia","motivation","happy","suicide","suicidal","ocd","obsessed","scared","fear","emptiness","cbd","antidepressant","addicted","addicting","addiction","internet","evacuate","planet","wrong","psychology","remember","forget","forgetting","foot","death","toenail","nail","fungus","feet","elderly","back","pain","organ","organs","accupuncture","intestine","liver","heart","male","man","testosterone","hair","loss","bald","balding","woman","female","fat","skinny","pepper","hot","furnace","drip","cancer","stop","dead","blood","cells","add","indigo","child","children","special","collective","illuminati","holocaust","internet-of-things","iot","vr","virtual","individuality","jew","jews","jewish","semetic","subliminal","astral","projection","light","healing","luck","clover","horseshoe","sexy","binaural","beats","music","sperm","seamen","sex","digital","hologram","simulation","illusion","numbers","numeric","dna","information","funny","laugh","laughing","lol","haha","kitty","kitten","cat","meow","virus","infected","pleiadians","space","physics","bunker","atlas","nuke","war","disaster","apocalypse","bomb","survival","shelter","girl","doctor","bowels","shit","poop","constipated","octopus","puzzle","stimulation","electrode","dbs","deep","therapy","scanners","scanner","tracker","beauty","ugly","surgery","plastic","constipation","constipate","poo","darpa","mind","control","pot","weed","drugs","marijuana","seduction","dating","romance","singles","chess","666","2016","freemasonry","universal","emperor","42","miracle","hell","genesis","bread","jesus","christianity","sandwich","bible","safe","safety","spyware","malware","security","towers","smartphone","weaponized","thoughts","cognitive","knowledge","processing","radio","transmission","nsa","microwave","frequency","nwo","new","world","order","state","corruption","x-ray","skull","dopamine","driving","muscle","work","hate","emf","electromagnetic","relationship","cocreate","relationships","electo","magnetic","intuition","soul","dreaming","lucid","suffering","jewelry","electric","buddha","moon","christ","blessing","buddhism","harmony","harmonics","spiritual","unarius","venus","mars","water","hydrogen","ion","acidic","alkaline","radicals","health","h20","infinity","oasis","ph","teeth","tooth","dental","dentist","implants","implant","cavity","mouth","gums","dentures","weight","quantum","motivaitonal","phobia"])),D=a(58),F=a.n(D),W=/^(http|https):\/\/.+\..+/,$=/(\.jpg$)|(\.jpeg$)|(\.png$)|(\.gif$)|(\.svg$)/,J=/^@.+/,R=/^#.+/,z=/^\/posts\/.+/,K=/^\/threads\/.+/;function G(e){return(e=Z(e)).match(J)}function V(e){return(e=Z(e)).match(R)}function H(e){return q.has(Z(e.toLowerCase()))}function Q(e){return e.split(" ").filter(G).map(function(e){return Z(e,/^@/)})}function X(e){return e.split(" ").map(function(e){return Z(e).toLowerCase()}).filter(H)}function Y(e){return{tags:JSON.stringify((t=e,t.split(" ").filter(V).map(function(e){return Z(e,/^#/).toLowerCase()})).concat(X(e))),usernames:JSON.stringify(Q(e))};var t}function Z(e,t){return e.replace(t?new RegExp(t,"g"):"","").replace(/(\.|\?|!|:|;|,|'|")+$/,"")}var ee=a(87),te=a.n(ee);function ae(e){var t=e.url,a=e.alt,r=Object(_.a)(e,["url","alt"]);return n.createElement("img",Object.assign({className:te.a.img,src:t,alt:a},r))}var ne=a(88),re=a.n(ne);function se(e){return re()({motherfucker:"m0therf_cker",fuck:"f_ck",shit:"poo"," dick ":"penis",bitch:"b!tch",cunt:"c%nt",cocksuck:"c*cks^ck",cock:"c*ck",nigger:"african-american",nigga:"pal"," fag ":"homosexual",faggot:"homosexual",tranny:"transexual"," god ":"g-d",goddamn:"goshdarn",pussy:"p#ssy"},function(t,a){e=e.replace(a,t)}),e}var ce={maxHeight:300},le=function(e){if((u=Z(u=e)).match($)&&u.match(W))return n.createElement(ae,{url:e,style:ce,alt:"user posted content"});if(function(e){return(e=Z(e)).match(W)}(e))return n.createElement("a",{href:Z(e),target:"_blank",rel:"noopener noreferrer"},e);if(G(e)){var t=Z(e,/^@/),a=e.replace(t,"").replace(/^@/,"");return n.createElement(n.Fragment,null,n.createElement(j.a,{to:"/users/".concat(t)},"@",se(t)),a)}if(V(e)){var r=Z(e,/^#/),s=e.replace(r,"").replace(/^#/,"");return n.createElement(n.Fragment,null,n.createElement(j.a,{to:"/hashtag/".concat(r.toLowerCase())},"#",se(r)),s)}if(function(e){return(e=Z(e)).match(z)}(e)){var c=Z(e,/^\/posts\//),l=e.replace(c,"").replace(/^\/posts\//,"");return n.createElement(n.Fragment,null,n.createElement(j.a,{to:"/posts/".concat(c)},"/posts/",c),l)}if(function(e){return(e=Z(e)).match(K)}(e)){var i=Z(e,/^\/threads\//),o=e.replace(i,"").replace(/^\/threads\//,"");return n.createElement(n.Fragment,null,n.createElement(j.a,{to:"/threads/".concat(i)},"/threads/",i),o)}return se(e);var u},ie=function(e,t){if(!e.length)return[t];var a,n=(a=e)[a.length-1];return"string"===typeof n&&"string"===typeof t?[].concat(Object(B.a)(e.slice(0,-1)),[n+" "+t]):"string"===typeof n?[].concat(Object(B.a)(e.slice(0,-1)),[n+" ",t]):[].concat(Object(B.a)(e),[" ",t])},oe=function(e,t){return n.createElement(n.Fragment,{key:t},e)},ue=function(e){return e.split("\n").map(function(e,t){return n.createElement("p",{key:t},e.split(" ").map(le).reduce(ie,[]).map(oe))})};function me(e){var t=e.content;return n.createElement(n.Fragment,null,ue(t))}var de=function(e){var t=e.alerts,a=e.readAlert;return r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement("div",{key:e.id,className:T.a.alert,onClick:function(){return a(e.id)}},r.a.createElement(L,{ring:!0}),e.link?r.a.createElement(j.a,{to:e.link},e.content):r.a.createElement(me,{content:e.content}))}))},pe=function(e){var t=e.alerts,a=e.onEmptyClick,n=e.readAlert;return r.a.createElement("div",{className:T.a.alertDropdown},t.length?r.a.createElement(de,{alerts:t,readAlert:n}):r.a.createElement("div",{className:T.a.noAlerts,onClick:a},"No Alerts!"))},ge=function(e){var t,a=e.unread;return r.a.createElement("div",{className:N()(T.a.circle,(t={},Object(x.a)(t,T.a.unread,a),Object(x.a)(t,T.a.unread1,a>0&&a<5),Object(x.a)(t,T.a.unread2,a>=5&&a<10),Object(x.a)(t,T.a.unread3,a>=10&&a<15),Object(x.a)(t,T.a.unread4,a>=15),t))},a||0)},fe="__JWT__",he=function(){var e=localStorage.getItem(fe);return e?JSON.parse(e):{__currentUser__:""}},_e=function(){return localStorage.getItem("__TRACKING_TOKEN__")||""},Ee={get:function(){var e=he();return e[e.__currentUser__]},getCurrentUser:function(){var e=he();return{username:e.__currentUser__,jwt:e[e.__currentUser__]}},getInnactiveUserList:function(){var e=he();return Object.keys(e).filter(function(t){return"__currentUser__"!==t&&t!==e.__currentUser__}).map(function(t){return{username:t,jwt:e[t]}})},getTrackingToken:_e,setTrackingToken:function(){try{var e=_e();if(e)return e;var t="".concat(Date.now(),"-").concat(Math.random());return localStorage.setItem("__TRACKING_TOKEN__",t),t}catch(a){console.log("could not set trakcing token: ",a)}},set:function(e,t){var a=he();a[e]=t,localStorage.setItem(fe,JSON.stringify(a))},setCurrentUser:function(e){var t=he();t.__currentUser__=e,localStorage.setItem(fe,JSON.stringify(t))},clearCurrentUser:function(){var e=he();e.__currentUser__="",localStorage.setItem(fe,JSON.stringify(e))}},ve=function(){Ee.clearCurrentUser(),window.location.reload()},be=function(){var e=Ee.getInnactiveUserList();return r.a.createElement("ul",{className:T.a.userDropdown},r.a.createElement("a",{href:"#logout",onClick:ve},r.a.createElement("li",null,"Logout")),r.a.createElement(j.a,{to:"/messages"},r.a.createElement("li",null,r.a.createElement("div",null,"Messages"))),r.a.createElement(j.a,{to:"/profile"},r.a.createElement("li",null,r.a.createElement("div",null,"Update Profile"))),r.a.createElement(j.a,{to:"/signup"},r.a.createElement("li",null,r.a.createElement("div",null,"Create Account"))),!!e.length&&r.a.createElement("div",{className:T.a.switchAccounts},r.a.createElement("strong",null,"Switch Account"),r.a.createElement("ul",null,e.map(function(e){var t=e.username;return r.a.createElement("li",{key:t,onClick:function(){return function(e){Ee.setCurrentUser(e),window.location.reload()}(t)}},t)}))))},ye="__dropdown_component__";function ke(e){var t=e.children,a=e.hide,s=function(e){var t=document.getElementById(ye);t&&e.target!==t&&!t.contains(e.target)&&a()};return Object(n.useEffect)(function(){return document.addEventListener("click",s),function(){return document.removeEventListener("click",s)}}),r.a.createElement("div",{id:ye,className:N()(T.a.dropdown,"solid")},t)}var je="{\n  currentUser {\n    id\n    username\n    avatarUrl\n    alerts: alertsList (condition: { read: false }) {\n      id\n      content\n      link\n    }\n  }\n}",Oe="\nmutation readAlert($input: ReadAlertInput!) {\n  readAlert(input: $input) {\n    alert {\n      id\n      read\n    }\n  }\n}";var Ne=function(e){var t=e.toggleDropdownVisible,a=e.currentUser,n=e.loading;return r.a.createElement("div",{className:T.a.content},r.a.createElement(j.a,{to:"/"},r.a.createElement("div",{className:T.a.title},"FriendWorld")),r.a.createElement("div",{className:T.a.links},a?r.a.createElement(we,{currentUser:a,toggleDropdownVisible:t}):!n&&r.a.createElement(Ce,null)))},we=function(e){var t=e.currentUser,a=e.toggleDropdownVisible,n=S(540),s=n.isDesktop,c=n.isMobile;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:T.a.link,onClick:function(){return a("users")},style:{maxWidth:"180px",overflow:"auto"}},t.username,r.a.createElement("div",{className:N()(T.a.circle,T.a.user),style:{backgroundImage:"url(".concat(t.avatarUrl,")")}})),s&&r.a.createElement("div",{className:T.a.link,onClick:function(){return a("alerts")}},"Alerts",r.a.createElement(ge,{unread:t.alerts.length})),c&&r.a.createElement("div",{className:T.a.link,onClick:function(){return a("alerts")}},r.a.createElement(ge,{unread:t.alerts.length})))},Ce=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{to:"/login",className:T.a.link},"Login"),r.a.createElement(j.a,{to:"/signup",className:T.a.link},"Signup"))},Se=function(e){var t=Object(n.useState)(null),a=Object(k.a)(t,2),s=a[0],c=a[1],l=Object(i.d)({query:je}),o=Object(k.a)(l,1)[0],u=o.data,m=o.fetching,d=Object(i.c)(Oe),p=Object(k.a)(d,2),g=(p[0],p[1]),f=u&&u.currentUser||null,h=function(){return c(null)};return Object(n.useEffect)(function(){return e.history.listen(h)}),r.a.createElement("nav",{className:N()(T.a.container,"solid")},r.a.createElement(b,null,r.a.createElement(Ne,{loading:m,currentUser:f,toggleDropdownVisible:c}),r.a.createElement("div",{className:T.a.dropdownPosition},s&&r.a.createElement(ke,{hide:h},"users"===s&&r.a.createElement(be,null),"alerts"===s&&f&&r.a.createElement(pe,{alerts:f.alerts,onEmptyClick:h,readAlert:function(e){return g({input:{alertId:e}})}})))))},Ue=a(90),Te=a.n(Ue),xe=function(e){var t=e.error;return n.createElement("div",{className:Te.a.error},"An Error Occurred: ",JSON.stringify(t,null,3))},Ie=a(91),Ae=a.n(Ie),Pe=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)(function(){var e=setInterval(function(){return s(a+".")},350);return function(){return clearInterval(e)}}),r.a.createElement("div",{className:Ae.a.loading},"loading",a)},Le=a(46),Be=a.n(Le),Me="\nmutation($input: LoginInput!) {\n  login(input: $input) {\n    jwtToken\n    query {\n      currentUser {\n        id\n        username\n      }\n    }\n  }\n}";var qe=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),l=Object(k.a)(c,2),o=l[0],u=l[1],m=Object(n.useState)(""),d=Object(k.a)(m,2),p=d[0],g=d[1],f=Object(i.c)(Me),h=Object(k.a)(f,2),_=h[0],E=_.error,v=_.fetching,b=_.data,y=h[1];return Object(n.useMemo)(function(){b&&b.login&&(b.login.jwtToken?(Ee.set(a,b.login.jwtToken),Ee.setCurrentUser(a),window.location.href="/"):g("Incorrect username/password combination"))},[a,b]),r.a.createElement("section",{className:Be.a.login},r.a.createElement("div",{className:Be.a.card},r.a.createElement("h1",null,"Login"),E&&r.a.createElement(xe,{error:E}),v&&r.a.createElement(Pe,null),!E&&!v&&r.a.createElement("form",null,r.a.createElement("input",{name:"fw_username",placeholder:"username",value:a,onChange:function(e){return s(e.target.value)}}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{className:Be.a.submitButton,onClick:function(e){e.preventDefault(),a&&o&&(g(""),y({input:{username:a,password:o}}))}},"Submit"),p&&r.a.createElement(xe,{error:p}))))},De=a(28),Fe=a.n(De),We="\nmutation($input: SignupInput!) {\n  signup(input: $input) {\n    jwtToken\n  }\n}";var $e=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),l=Object(k.a)(c,2),o=l[0],u=l[1],m=Object(n.useState)(""),d=Object(k.a)(m,2),p=d[0],g=d[1],f=Object(n.useState)(""),h=Object(k.a)(f,2),_=h[0],E=h[1],v=Object(i.c)(We),b=Object(k.a)(v,2),y=b[0],j=y.error,O=y.fetching,N=y.data,w=b[1],C=j?j.message.includes("violates unique constraint")?"That username is already taken. Please try again":j.message:_||"";return N&&!j&&(Ee.set(a,N.signup.jwtToken),Ee.setCurrentUser(a),window.location.href="/onboarding"),r.a.createElement("section",{className:Fe.a.signup},r.a.createElement("div",{className:Fe.a.card},r.a.createElement("h1",null,"Create Account"),r.a.createElement("form",null,r.a.createElement("div",{className:Fe.a.inputs},r.a.createElement("input",{name:"fw_username",placeholder:"Username",value:a,onChange:function(e){s(e.target.value),e.target.value.length>18&&E("Username must be 18 characters or less")}}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement("input",{type:"password",name:"password_confirm",placeholder:"Password Confirmation",value:p,onChange:function(e){return g(e.target.value)}})),C&&r.a.createElement(xe,{error:C}),O&&r.a.createElement(Pe,null),!O&&r.a.createElement("button",{className:Fe.a.submitButton,onClick:function(e){e.preventDefault(),a&&o?o===p?w({input:{username:a,password:o}}):E("Password must match Password Confirmation"):E("Must include username and password.")}},"Submit"))))},Je=a(59),Re=a.n(Je),ze=a(14),Ke=a.n(ze),Ge=function(e){var t=e.post;return n.createElement("article",{className:Ke.a.post},n.createElement("div",{className:Ke.a.main},!!t.author&&n.createElement(j.a,{to:"/users/".concat(t.author.username),className:Ke.a.panel},n.createElement("aside",{className:Ke.a.panelContainer},n.createElement("div",{className:Ke.a.avatar,style:{backgroundImage:"url(".concat(t.author.avatarUrl,")")}}),n.createElement("div",{className:Ke.a.userInfo},n.createElement("div",{className:Ke.a.username},t.author.username),t.author.postStats&&n.createElement("div",{className:Ke.a.totalPosts},n.createElement("strong",null,"Posts:")," ",t.author.postStats.totalCount)))),n.createElement("div",{className:Ke.a.content},n.createElement(me,{content:t.content}))),n.createElement("div",{className:N()(Ke.a.footer,"offWhite")},n.createElement("div",{className:Ke.a.postedAt},n.createElement("time",null,"Posted at: ",new Date(t.createdAt).toISOString()),n.createElement("span",null,n.createElement(j.a,{to:"/posts/".concat(t.id)},"/posts/",t.id))),!!t.thread&&n.createElement("div",{className:Ke.a.threadLink},"In thread: ",n.createElement(j.a,{to:"/threads/".concat(t.thread.id)},se(t.thread.title)))))},Ve="\nquery ".concat("post"," ($id: Int!){\n  post: ").concat("post"," (id: $id) {\n    id\n    createdAt\n    content\n    author {\n      id\n      username\n      avatarUrl\n      postStats: authoredPosts {\n        totalCount\n      }\n    }\n    thread {\n      id\n      title\n    }\n  }\n}"),He=function(e){var t=e.id,a=Object(i.d)({query:Ve,variables:{id:t}}),r=Object(k.a)(a,1)[0],s=r.error,c=r.fetching,l=r.data;return n.createElement("section",null,n.createElement("div",{className:Re.a.back},n.createElement(j.a,{to:"/"},"< Back to forum")),n.createElement("div",{className:Re.a.left},s&&n.createElement(xe,{error:s}),c&&n.createElement(Pe,null),l&&(l.post?n.createElement(Ge,{post:l.post}):"This post does not exist!")))},Qe=a(15),Xe=a.n(Qe),Ye=a(21),Ze=a(23),et=a(92),tt=a.n(et),at=a(60),nt=a.n(at),rt=function(e){var t=e.url,a=e.img,r=e.content,s=e.onClick;return n.createElement("div",{className:nt.a.ad},n.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",onClick:s||tt.a},a&&n.createElement(ae,{url:a,alt:r}),r&&n.createElement("div",{className:nt.a.content},r)))},st=a(47),ct=a.n(st),lt=function(e){try{var t=JSON.parse(e);return Object(Ze.isObject)(t)?t:{}}catch(a){return{}}},it="{\n  currentUser {\n    id\n    trackingInfo\n  }\n  ads: adsList {\n    id\n    url\n    img\n    content\n    tags\n    isGeneric\n    weight\n    targetTags\n    primaryTags\n  }\n}";function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(i.d)({query:it}),r=Object(k.a)(a,1)[0],s=r.data,c=r.fetching;return{ads:Object(n.useMemo)(function(){if(!s)return[];var a=s.ads.map(function(e){return Object(Ye.a)({},e,{tags:JSON.parse(e.tags),primaryTags:JSON.parse(e.primaryTags),targetTags:JSON.parse(e.targetTags)})}),n=s.currentUser?lt(s.currentUser.trackingInfo):{},r=[n.gender].concat(Object(B.a)(n.profileTags||[]));return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=new Set(t.tags||[]),r=new Set(t.targetTags||[]),s=e.filter(function(e){return e.isGeneric}),c=e.filter(function(e){return e.primaryTags.some(function(e){return n.has(e)})});if(c.length>=a)return Object(Ze.sampleSize)(c,a);var l=e.filter(function(e){return e.tags.some(function(e){return n.has(e)})&&!c.includes(e)});if(c.length+l.length>=a)return[].concat(Object(B.a)(Object(Ze.shuffle)(c)),Object(B.a)(Object(Ze.sampleSize)(l,a-c.length)));var i=[].concat(Object(B.a)(Object(Ze.shuffle)(c)),Object(B.a)(Object(Ze.shuffle)(l))),o=e.filter(function(e){return e.targetTags.some(function(e){return r.has(e)})&&!i.includes(e)}),u=[].concat(Object(B.a)(o),Object(B.a)(s.filter(function(e){return!i.includes(e)})));return[].concat(Object(B.a)(i),Object(B.a)(Object(Ze.sampleSize)(u,a-i.length)))}(a,Object(Ye.a)({},t,{targetTags:r}),e)},[e,t,s]),fetchingAds:c}}var ut=function(e){var t=e.ads,a=e.fetching,n=Object(i.c)("\nmutation logAdClick($input: LogAdClickInput!) {\n  logAdClick(input: $input) {\n    adClick {\n      adId\n      userId\n      clickCount\n    }\n  }\n}"),s=Object(k.a)(n,2),c=(s[0],s[1]);if(a)return r.a.createElement(r.a.Fragment,null,"loading...");if(!t)return null;return r.a.createElement("section",{className:ct.a.adContainer},r.a.createElement("div",{className:ct.a.label},"SPONSORED CONTENT"),t.map(function(e,t){return r.a.createElement("div",{className:ct.a.adWrapper,key:t},r.a.createElement(rt,Object.assign({},e,{onClick:function(){return t=e.id,setTimeout(function(){return c({input:{ad:t}})},200);var t}})))}))},mt=a(29),dt=a.n(mt),pt="Join the conversation...";var gt=function(e){var t=e.placeholder,a=e.buttonContent,s=e.inputStyle,c=e.onSubmit,l=e.onChange,i=Object(n.useState)(""),o=Object(k.a)(i,2),u=o[0],m=o[1],d=function(){c(u),m("")};return r.a.createElement("div",{className:dt.a.container},r.a.createElement("div",{className:dt.a.inner},r.a.createElement("textarea",{className:dt.a.contentInput,placeholder:t||pt,onChange:function(e){m(e.target.value),l&&l(e.target.value)},value:u,style:s,onKeyDown:function(e){13===e.keyCode&&e.metaKey&&d()}}),r.a.createElement("button",{className:dt.a.submitButton,onClick:d},a||"Submit")))},ft="\nquery ".concat("thread"," ($id: Int!) {\n  thread: ").concat("thread"," (id: $id) {\n    id\n    title\n    posts: postsList {\n      id\n      content\n      createdAt\n      tags\n      author {\n        id\n        username\n        avatarUrl\n        postStats: authoredPosts {\n          totalCount\n        }\n      }\n    }\n  }\n  currentUser {\n    id\n  }\n}"),ht=function(e){var t=e.threadId,a=e.disabled,n=Object(i.c)("\nmutation createPost($input: CreatePostInput!) {\n  createPost(input: $input) {\n    post {\n      id\n      content\n      createdAt\n      author {\n        id\n        avatarUrl\n        username\n      }\n    }\n  }\n}"),s=Object(k.a)(n,2),c=(s[0],s[1]);return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(j.a,{to:"/signup"},r.a.createElement("h2",{className:Xe.a.signup},"Create An Account To Join The Conversation!")),r.a.createElement("div",{className:N()(Xe.a.addPost,a&&Xe.a.disabled)},r.a.createElement(gt,{onSubmit:function(e){if(e){var a=Y(e),n=a.tags,r=a.usernames;c({input:{threadId:t,content:e,tags:n,usernames:r}})}}})))},_t=[1],Et=function(e){var t=e.id,a=S(820),s=a.isMobile,c=a.isDesktop,l=Object(i.d)({query:ft,variables:{id:t}}),o=Object(k.a)(l,1)[0],u=o.data,m=o.error,d=o.fetching,p=ot(4,{tags:!_t.includes(t)&&u&&u.thread?u.thread.posts.flatMap(function(e){return JSON.parse(e.tags)}):[]}),g=p.ads,f=p.fetchingAds,h=m&&r.a.createElement(xe,{error:m}),_=d&&r.a.createElement(Pe,null),E=u&&(u.thread?r.a.createElement("div",{className:Xe.a.container},r.a.createElement("header",{className:Xe.a.threadTitle},r.a.createElement("h2",null,se(u.thread.title))),r.a.createElement("div",null,r.a.createElement(j.a,{to:"/threads/".concat(u.thread.id)},r.a.createElement("div",{className:Xe.a.threadLink},"/threads/",u.thread.id)),r.a.createElement(r.a.Fragment,null,u.thread.posts.map(function(e,t){return r.a.createElement(n.Fragment,{key:e.id},function(e){if(!s)return!1;if((e+1)%4)return!1;var t=((e+1)/4-1)%g.length;return r.a.createElement("div",{className:Xe.a.ad},r.a.createElement(ut,{ads:[g[t]],fetching:f}))}(t),r.a.createElement(Ge,{post:e}))})),r.a.createElement(ht,{threadId:u.thread.id,disabled:!u.currentUser}))):"This thread does not exist!");return r.a.createElement("section",null,r.a.createElement("div",{className:Xe.a.back},r.a.createElement(j.a,{to:"/"},"< Back to forum")),r.a.createElement("div",{className:Xe.a.threadContainer},r.a.createElement("div",{className:Xe.a.left},h,_,E),c&&r.a.createElement("div",{className:Xe.a.adContainer},r.a.createElement(ut,{ads:g,fetching:f}))))},vt=a(19),bt=a.n(vt),yt=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),l=Object(k.a)(c,2),o=l[0],u=l[1],m=Object(i.d)({query:"{\n  currentUser {\n    id\n    username\n    avatarUrl\n    postStats: authoredPosts {\n      totalCount\n    }\n  }\n}"}),d=Object(k.a)(m,1)[0],p=Object(i.c)("\nmutation createThread($input: CreateThreadInput!) {\n  createThread(input: $input) {\n    thread {\n      id\n      title\n    }\n  }\n}"),g=Object(k.a)(p,2),f=g[0],h=g[1];if(f.data)return window.location.href="/threads/".concat(f.data.createThread.thread.id),r.a.createElement("div",null);if(d.fetching||f.fetching)return r.a.createElement("span",null,"loading...");var _=d.data&&!d.data.currentUser,E=d.data&&d.data.currentUser&&Object(Ye.a)({},d.data.currentUser,{postStats:{totalCount:d.data.currentUser.postStats.totalCount+1}});return r.a.createElement("section",{className:bt.a.newThread},r.a.createElement("div",{className:bt.a.back},r.a.createElement(j.a,{to:"/"},"< Back to forum")),!_&&r.a.createElement("h1",{className:bt.a.sectionTitle},"New Thread"),_&&r.a.createElement(j.a,{to:"/signup"},r.a.createElement("h2",{className:bt.a.signup},"Create An Account To Join The Conversation!")),r.a.createElement("div",{className:N()(Object(x.a)({},bt.a.disabled,_))},r.a.createElement("h2",{className:bt.a.label},"Title"),r.a.createElement("input",{className:bt.a.input,onChange:function(e){return s(e.target.value)},value:a}),r.a.createElement("h2",{className:bt.a.label},"Content"),r.a.createElement(gt,{onSubmit:function(){if(a&&o){var e=Y(a+" "+o),t=e.tags,n=e.usernames;h({input:{title:a,content:o,tags:t,usernames:n}})}},onChange:u,buttonContent:"Start Thread",placeholder:"",inputStyle:{height:"200px"}}),(a||o)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:bt.a.label},"[PREVIEW] ",se(a)),r.a.createElement(Ge,{post:{id:"XX",createdAt:(new Date).toString(),content:o,author:E}}))))},kt=a(61),jt=a.n(kt),Ot=a(93),Nt=a(224),wt=a(4),Ct=a.n(wt),St="\n  id\n  createdAt\n  username\n  avatarUrl\n  email\n  gender\n  birthday\n  bio\n  job\n  interests\n  websites\n  media\n  religion\n  politics\n  trackingInfo\n",Ut="{\n  currentUser {\n    ".concat(St,"\n    trackingInfo\n    postStats: authoredPosts {\n      totalCount\n    }\n  }\n}"),Tt="mutation UpdateUser($input: UpdateUserInput!) {\n  updateUser(input: $input) {\n    user {\n      ".concat(St,"\n    }\n  }\n}");function xt(e){var t=e.history,a=Object(i.d)({query:Ut}),n=Object(k.a)(a,1)[0],s=n.data,c=n.error,l=n.fetching;return c?r.a.createElement(xe,{error:c}):l?r.a.createElement(Pe,null):s?s.currentUser?r.a.createElement(Bt,{currentUser:s.currentUser,goto:function(e){return t.push(e)}}):r.a.createElement(Nt.a,{to:"/signup"}):null}function It(e){var t=e.trackingInfo?JSON.parse(e.trackingInfo):{},a=e.gender?function(e){var t=e.split(" ").map(function(e){return Z(e).toLowerCase()});return F()(t,M.male).length?"male":F()(t,M.female).length?"female":"other"}(e.gender):void 0,n=X([e.bio,e.job,e.interests,e.media,e.religion,e.politics].join(" "));return JSON.stringify(Object(Ye.a)({},t,{gender:a,profileTags:n}))}var At=function(e){return Date.parse(e)?new Date(e).toISOString():null},Pt=function(e){return e.match(/^.+@.+\..+$/)?e:null},Lt=function(e){return new Promise(function(t){return setTimeout(t,e)})};function Bt(e){var t=e.currentUser,a=(e.goto,Object(n.useState)(t.avatarUrl)),s=Object(k.a)(a,2),c=s[0],l=s[1],o=Object(n.useState)(t.email||""),u=Object(k.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(t.gender),g=Object(k.a)(p,2),f=g[0],h=g[1],_=Object(n.useState)(t.birthday||""),E=Object(k.a)(_,2),v=E[0],b=E[1],y=Object(n.useState)(t.bio),O=Object(k.a)(y,2),N=O[0],w=O[1],C=Object(n.useState)(t.job),U=Object(k.a)(C,2),T=U[0],x=U[1],I=Object(n.useState)(t.interests),A=Object(k.a)(I,2),P=A[0],L=A[1],B=Object(n.useState)(t.websites),M=Object(k.a)(B,2),q=M[0],D=M[1],F=Object(n.useState)(t.media),W=Object(k.a)(F,2),$=W[0],J=W[1],R=Object(n.useState)(t.religion),z=Object(k.a)(R,2),K=z[0],G=z[1],V=Object(n.useState)(t.politics),H=Object(k.a)(V,2),Q=H[0],X=H[1],Y=Object(n.useState)(!1),Z=Object(k.a)(Y,2),ee=Z[0],te=Z[1],ae=S(540),ne=ae.isMobile,re=ae.isDesktop,se=Object(n.useState)(!1),ce=Object(k.a)(se,2),le=ce[0],ie=ce[1],oe=Object(i.c)(Tt),ue=Object(k.a)(oe,2),me=ue[0],de=ue[1],pe=ee&&v&&!At(v)?"Birthday must be a valid date":"",ge=ee&&m&&!Pt(m)?"Email must be in correct format":"",fe=r.a.createElement("header",{className:Ct.a.header},r.a.createElement("h1",null,"Update Profile: ",t.username),r.a.createElement("div",{className:Ct.a.subheader},"uuid: ",t.id),r.a.createElement("div",{className:Ct.a.subheader},r.a.createElement(j.a,{to:"/users/".concat(t.username)},"View Profile"))),he=function(){var e=Object(Ot.a)(jt.a.mark(function e(){var a,n;return jt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),ie(!0),a={email:Pt(m),birthday:At(v),avatarUrl:c,gender:f,bio:N,job:T,interests:P,websites:q,media:$,religion:K,politics:Q},n=It(Object(Ye.a)({},a,{trackingInfo:t.trackingInfo})),e.next=6,Promise.all([de({input:Object(Ye.a)({},a,{trackingInfo:n})}),Lt(1e3)]);case 6:ie(!1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Ct.a.profile},ne&&fe,r.a.createElement("div",{className:Ct.a.content},r.a.createElement("div",{className:Ct.a.left},r.a.createElement("div",null,r.a.createElement("div",{className:Ct.a.avatar,style:{backgroundImage:"url(".concat(c,")")}}),r.a.createElement("div",null,r.a.createElement("strong",null,"Posts:")," ",t.postStats.totalCount))),r.a.createElement("div",{className:Ct.a.right},me.fetching||le?r.a.createElement(Pe,null):r.a.createElement(r.a.Fragment,null,re&&fe,r.a.createElement("div",{className:Ct.a.buttonContainer},r.a.createElement("button",{className:Ct.a.submitButton,onClick:he},"Update Profile")),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Avatar Url"),r.a.createElement("input",{className:Ct.a.contentInput,value:c,placeholder:"http://www.website.com/image.jpeg",onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Email"),r.a.createElement("input",{className:Ct.a.contentInput,value:m,placeholder:"email@website.com",onChange:function(e){return d(e.target.value)}}),!!ge&&r.a.createElement("div",null,ge)),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Gender"),r.a.createElement("input",{className:Ct.a.contentInput,value:f,placeholder:"Gender",onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Birthday"),r.a.createElement("input",{className:Ct.a.contentInput,value:v,placeholder:"03/11/19",onChange:function(e){return b(e.target.value)}}),!!pe&&r.a.createElement("div",null,pe)),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"About Me"),r.a.createElement("textarea",{className:Ct.a.contentInput,value:N,placeholder:"Tell us about yourself!",onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Occupation"),r.a.createElement("input",{className:Ct.a.contentInput,value:T,placeholder:"Accountant",onChange:function(e){return x(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Interestes"),r.a.createElement("input",{className:Ct.a.contentInput,value:P,placeholder:"Bowling, Stamp Collecting, Family",onChange:function(e){return L(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Favorite Websites"),r.a.createElement("input",{className:Ct.a.contentInput,value:q,placeholder:"friendworld.social, fastcashmoneyplus.biz",onChange:function(e){return D(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Favorite Movies, TV shows, and Music"),r.a.createElement("input",{className:Ct.a.contentInput,value:$,placeholder:"The Godfather, Citizen Kane, Casablanca",onChange:function(e){return J(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Religious Views"),r.a.createElement("input",{className:Ct.a.contentInput,value:K,placeholder:"God",onChange:function(e){return G(e.target.value)}})),r.a.createElement("div",{className:Ct.a.inputSection},r.a.createElement("h3",null,"Political Views"),r.a.createElement("input",{className:Ct.a.contentInput,value:Q,placeholder:"Liberal/Conservative",onChange:function(e){return X(e.target.value)}})),r.a.createElement("div",{className:Ct.a.buttonContainer},r.a.createElement("button",{className:Ct.a.submitButton,onClick:he},"Update Profile"))))))}var Mt=a(10),qt=a.n(Mt),Dt=function(e){var t=e.title,a=e.info;return a&&r.a.createElement("div",{className:qt.a.infoSection},r.a.createElement("h3",null,t),r.a.createElement(me,{content:a}))},Ft=function(e){var t=e.username,a=Object(i.d)({query:"\nquery userByUsername ($username: UsernameDomain!) {\n  ads {\n    totalCount\n  }\n  user: userByUsername (username: $username) {\n    id\n    createdAt\n    username\n    avatarUrl\n    email\n    gender\n    birthday\n    bio\n    job\n    interests\n    websites\n    media\n    religion\n    politics\n    trackingInfo\n    postStats: authoredPosts {\n      totalCount\n    }\n    adClicks {\n      totalCount\n    }\n    posts: authoredPostsList (first: 10, orderBy: [CREATED_AT_DESC]) {\n      id\n      content\n      createdAt\n      thread {\n        id\n        title\n      }\n    }\n  }\n}",variables:{username:t}}),n=Object(k.a)(a,1)[0],s=n.error,c=n.fetching,l=n.data,o=S(540),u=o.isMobile,m=o.isDesktop;if(s)return r.a.createElement(xe,{error:s});if(c)return r.a.createElement(Pe,null);if(!l||!l.user)return r.a.createElement("div",{style:{margin:"20px 0",textAlign:"center"}},t," is not an active Friendworld user!");var d,p=l.user,g=l.ads,f=r.a.createElement("header",{className:qt.a.header},r.a.createElement("h1",{className:qt.a.intro},"Welcome to ",p.username,"'s Profile!"),r.a.createElement("h4",{className:qt.a.memberSince},p.username," has been a member since ",(d=p.createdAt,new Date(d).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}))),r.a.createElement("h4",{className:qt.a.memberSince},p.username," has engaged with ",p.adClicks.totalCount,"/",g.totalCount," pieces of sponsored content!"));return r.a.createElement("div",{className:qt.a.profile},u&&f,r.a.createElement("div",{className:qt.a.content},r.a.createElement("div",{className:qt.a.left},r.a.createElement("div",null,r.a.createElement("div",{className:qt.a.avatar,style:{backgroundImage:"url(".concat(p.avatarUrl,")")}}),r.a.createElement("div",null,r.a.createElement("strong",null,"Posts:")," ",p.postStats.totalCount),r.a.createElement("div",{className:qt.a.sendMessage},r.a.createElement(j.a,{to:"/messages/".concat(p.username)},"Message ",p.username)))),r.a.createElement("div",{className:qt.a.right},m&&f,r.a.createElement("div",{className:qt.a.userInfo},r.a.createElement(Dt,{title:"Gender",info:p.gender}),r.a.createElement(Dt,{title:"Birthday",info:p.birthday}),r.a.createElement(Dt,{title:"About Me",info:p.bio}),r.a.createElement(Dt,{title:"Occupation",info:p.job}),r.a.createElement(Dt,{title:"Favorite Websites",info:p.websites}),r.a.createElement(Dt,{title:"Favorite Movies, TV shows, and Music",info:p.media}),r.a.createElement(Dt,{title:"Religious Views",info:p.religion}),r.a.createElement(Dt,{title:"Political Views",info:p.politics})),r.a.createElement("div",{className:qt.a.recentPosts},p.posts.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Recent posts by ",p.username,":"),p.posts.map(function(e){return r.a.createElement("div",{className:qt.a.postContainer,key:e.id},r.a.createElement(Ge,{post:e}))})):r.a.createElement("h3",null,"This user has not made any posts yet!")),r.a.createElement("div",{className:qt.a.uuid},"user uuid: ",p.id))))},Wt=a(7),$t=a.n(Wt),Jt=a(42),Rt=a.n(Jt),zt="{\n  messageData: currentUser {\n    username\n    sent: messagesSentList {\n      createdAt\n      user: to {\n        username\n      }\n    }\n    received: messagesReceivedList {\n      createdAt\n      user: from {\n        username\n      }\n    }\n  }\n}",Kt=function(e,t){var a=t.createdAt,n=t.user.username,r=new Date(a);return(!e.has(n)||e.get(n)<r)&&e.set(n,r),e},Gt=function(e){if(!e)return[];var t=[].concat(Object(B.a)(e.sent),Object(B.a)(e.received)).reduce(Kt,new Map),a=Array.from(t.entries());return Rt()(a,[1]).reverse().map(function(e){return e[0]})};function Vt(){var e=Object(i.d)({query:zt}),t=Object(k.a)(e,1)[0],a=t.error,s=t.fetching,c=t.data;if(a)return r.a.createElement(xe,{error:a});if(s)return r.a.createElement(Pe,null);if(!c||!c.messageData)return null;var l=Gt(c.messageData);return r.a.createElement("aside",{className:$t.a.sidePanelContainer},r.a.createElement("div",{className:$t.a.sidePanel},l.length?l.map(function(e){return r.a.createElement(n.Fragment,{key:e},r.a.createElement(j.a,{to:"/messages/".concat(e)},r.a.createElement("div",{className:$t.a.user},e)))}):r.a.createElement("div",{className:$t.a.emptyUsers},"You have no conversations.")))}var Ht="query messagesByUsername ($username: UsernameDomain!) {\n  currentUser {\n    username\n  }\n  requestedUser: userByUsername(username: $username) {\n    sent: messagesSentList {\n      id\n      content\n      createdAt\n      to {\n        username\n      }\n      from {\n        username\n      }\n    }\n    received: messagesReceivedList {\n      id\n      content\n      createdAt\n      to {\n        id\n        username\n      }\n      from {\n        id\n        username\n      }\n    }\n  }\n}",Qt="mutation createMessage ($input: CreateMessageInput!) {\n  createMessage (input: $input) {\n    message {\n      id\n      content\n      from {\n        id\n        username\n      }\n    }\n  }\n}";function Xt(e){var t=e.username,a=Object(n.useRef)(null),s=Object(n.useState)(""),c=Object(k.a)(s,2),l=c[0],o=c[1],u=Object(i.d)({query:Ht,variables:{username:t||""}}),m=Object(k.a)(u,2),d=m[0],p=d.error,g=d.data,f=m[1],h=Object(i.c)(Qt),_=Object(k.a)(h,2),E=(_[0],_[1]);!function(e,t){var a=Object(n.useRef)(null);Object(n.useEffect)(function(){a.current=e},[e]),Object(n.useEffect)(function(){if(null!==t){var e=setInterval(function(){a.current()},t);return function(){return clearInterval(e)}}},[t])}(function(){document.hidden||f({requestPolicy:"network-only"})},1e3);var v=[g&&g.requestedUser&&g.requestedUser.received&&g.requestedUser.sent&&g.requestedUser.received.length+g.requestedUser.sent.length];Object(n.useEffect)(function(){a.current&&(a.current.scrollTop=a.current.scrollHeight)},v);if(p)return r.a.createElement(xe,{error:p});if(!g||!g.currentUser)return null;if(g.currentUser.username===t)return r.a.createElement(Nt.a,{to:"/messages"});var b=g.requestedUser?Yt(g.requestedUser):[],y=b.map(function(e){return r.a.createElement("div",{className:$t.a.message,key:e.id},r.a.createElement("div",{className:$t.a.sender},r.a.createElement(j.a,{to:"/users/".concat(e.from.username)},r.a.createElement("strong",null,e.from.username)),r.a.createElement("time",null,"[",e.createdAt,"]")),r.a.createElement("div",{className:$t.a.content},r.a.createElement(me,{content:e.content})))});return r.a.createElement("section",{className:$t.a.messagePanel},!g.requestedUser&&"".concat(t," is not an active FriendWorld user"),g.requestedUser&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:a,className:$t.a.sentMessages},g.requestedUser&&(b.length?y:"Send ".concat(t," a message!"))),r.a.createElement("input",{className:$t.a.sendBox,value:l,onChange:function(e){return o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&l&&(E({input:{content:l,toUsername:t||""}}),o(""))},placeholder:"Press ENTER to send message"})))}var Yt=function(e){return Rt()([].concat(Object(B.a)(e.received),Object(B.a)(e.sent)),"createdAt")},Zt="mutation createMessage ($input: CreateMessageInput!) {\n  createMessage (input: $input) {\n    message {\n      id\n      content\n      from {\n        id\n        username\n      }\n    }\n  }\n}";function ea(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),l=Object(k.a)(c,2),o=l[0],u=l[1],m=Object(i.c)(Zt),d=Object(k.a)(m,2),p=(d[0],d[1]),g=function(){a&&o&&p({input:{content:a,toUsername:o}}).then(function(){window.location.href="messages/".concat(o)})};return r.a.createElement("section",{className:$t.a.messagePanel},r.a.createElement("div",null,"Send a new message to:",r.a.createElement("div",null,r.a.createElement("input",{className:$t.a.sendBox,placeholder:"Enter username here",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement("textarea",{className:N()($t.a.sendBox,$t.a.newMessageBox),value:a,onChange:function(e){return s(e.target.value)},placeholder:"Enter message here",onKeyDown:function(e){13===e.keyCode&&e.metaKey&&g()}})),r.a.createElement("button",{className:$t.a.submitButton,onClick:g},"Send")))}var ta=function(e){var t=e.username,a=S(450),s=a.isMobile,c=a.isDesktop,l=Object(n.useState)(!1),o=Object(k.a)(l,2),u=o[0],m=o[1],d=Object(i.d)({query:"{\n  currentUser {\n    username\n  }\n}"}),p=Object(k.a)(d,1)[0],g=p.data,f=p.error,h=p.fetching;return f?r.a.createElement(xe,{error:f}):h?r.a.createElement(Pe,null):g&&!g.currentUser?r.a.createElement(Nt.a,{to:"/signup"}):g&&g.currentUser&&g.currentUser.username===t?r.a.createElement(Nt.a,{to:"/messages"}):r.a.createElement("div",{className:$t.a.messages},r.a.createElement("header",{className:$t.a.header},r.a.createElement("h1",null,"Message Console"),s&&(u||t)?r.a.createElement(j.a,{to:"/messages",onClick:function(){return m(!1)}},"< All Messages"):r.a.createElement(j.a,{to:"/messages",onClick:function(){return m(!0)}},"New Message")),r.a.createElement("section",{className:$t.a.messagesSection},s&&r.a.createElement("div",{className:$t.a.mobileContainer},t&&r.a.createElement(Xt,{username:t}),!t&&u&&r.a.createElement(ea,null),!t&&!u&&r.a.createElement(Vt,null)),c&&r.a.createElement("div",{className:$t.a.desktopContainer},r.a.createElement(Vt,null),t&&r.a.createElement(Xt,{username:t}),!t&&r.a.createElement(ea,null))))},aa=a(16),na=a.n(aa),ra=a(94),sa=a.n(ra),ca=function(e){var t=e.thread,a=t.posts[0]&&t.posts[0].author.username,r=se(t.title.length>297?t.title.substring(0,297)+"...":t.title);return n.createElement("article",{key:t.id,className:na.a.threadPost},n.createElement(j.a,{className:na.a.postLink,to:"/threads/".concat(t.id)},r),n.createElement("div",{className:na.a.info},n.createElement("strong",null,"LAST POST:")," ",n.createElement("time",null,"[",t.latestPostTime,"]")),n.createElement("div",{className:na.a.info},n.createElement("strong",null,"by: "),n.createElement(j.a,{to:"/users/".concat(a)},a)),n.createElement("div",{className:na.a.info},n.createElement("strong",null,"POSTS:")," ",t.postStats.totalCount))},la=[1],ia=function(){var e=S(540),t=e.isMobile,a=e.isDesktop,r=Object(i.d)({query:"{\n  currentUser {\n    id\n  }\n  threads: threadsList (orderBy: [LATEST_POST_TIME_DESC]) {\n    id\n    title\n    latestPostTime\n    postStats: posts {\n      totalCount\n    }\n    posts: postsList (first: 1, orderBy: [CREATED_AT_DESC]) {\n      author {\n        username\n      }\n    }\n  }\n}"}),s=Object(k.a)(r,1)[0],c=s.fetching,l=s.error,o=s.data,u=ot(4),m=u.ads,d=u.fetchingAds,p=o&&o.threads?sa()(o.threads,function(e){return la.includes(e.id)}):[[],[]];return n.createElement("section",{className:na.a.forum},n.createElement("section",{className:na.a.left},c&&n.createElement(Pe,null),l&&n.createElement(xe,{error:l}),o&&n.createElement(n.Fragment,null,o.currentUser&&n.createElement("div",{className:na.a.quickLinks},n.createElement("strong",null,"quick links:")," ",n.createElement(j.a,{to:"/messages"},"Messages"),", ",n.createElement(j.a,{to:"/profile"},"Update Profile"),", ",n.createElement(j.a,{to:"/stats"},"Stats")),n.createElement("header",{className:na.a.header},n.createElement("h1",null,"Forum"),n.createElement(j.a,{to:"/threads/new",className:na.a.startThread},"Start A Thread!")),n.createElement("div",{style:{border:"1px dashed",padding:"3px",paddingBottom:0,marginBottom:"10px"}},n.createElement(ca,{thread:p[0][0]})),p[1].length&&p[1].map(function(e,a){return n.createElement(n.Fragment,{key:e.id},function(e){if(!t)return!1;if((e+1)%4)return!1;var a=((e+1)/4-1)%m.length;return n.createElement("div",{className:na.a.adContainer},n.createElement(ut,{ads:[m[a]],fetching:d}))}(a),n.createElement(ca,{thread:e}))}))),a&&n.createElement(ut,{ads:m,fetching:d}))},oa=a(30),ua=a.n(oa),ma="{\n  userStatsList {\n    username\n    postCount\n  }\n  userAdClicksList {\n    username\n    adClicks\n  }\n}";var da=function(){var e=Object(i.d)({query:ma}),t=Object(k.a)(e,1)[0],a=t.error,n=t.fetching,s=t.data;return a?r.a.createElement(xe,{error:a}):n?r.a.createElement(Pe,null):s?r.a.createElement("section",{className:ua.a.stats},r.a.createElement("h1",null,"User Stats"),r.a.createElement("div",{className:ua.a.sectionContainer},r.a.createElement("div",{className:ua.a.statSection},r.a.createElement("h2",null,"Top Posters:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Posts"))),r.a.createElement("tbody",null,s.userStatsList.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1,"."),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.postCount))})))),r.a.createElement("div",{className:ua.a.statSection},r.a.createElement("h2",null,"Sponsored Content Engagements:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Engagements"))),r.a.createElement("tbody",null,s.userAdClicksList.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1,"."),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.adClicks))})))))):null},pa=a(62),ga=a.n(pa);var fa=function(){return r.a.createElement("section",{className:ga.a.onboarding},r.a.createElement("div",{className:ga.a.card},r.a.createElement("h1",null,"Welcome to Friendworld!"),r.a.createElement("p",null,"Thanks for signing up! Please fill out your profile so everyone knows what you're all about!"),r.a.createElement(j.a,{to:"/profile"},"Click here to update your profile"),r.a.createElement("p",null,"Or, hit the forums now and fill out your profile later :)"),r.a.createElement(j.a,{to:"/"},"Click here to go to the forum")))},ha="{\n  stats: ads {\n    totalCount\n  }\n  ads: adsList {\n    id\n    url\n    img\n    content\n    tags\n    isGeneric\n    weight\n    targetTags\n    primaryTags\n  }\n}";var _a=function(){var e=Object(i.d)({query:ha}),t=Object(k.a)(e,1)[0];return t.data,t.fetching,t.error,"ads"},Ea=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return n.createElement("main",{className:"App"},n.createElement(g.a,{path:"/",component:Se}),n.createElement(y,null,n.createElement(f.a,null,n.createElement(g.a,{exact:!0,path:"/",component:ia}),n.createElement(g.a,{exact:!0,path:"/threads/new",component:yt}),n.createElement(g.a,{exact:!0,path:"/threads/:id",render:function(e){var t=e.match;return n.createElement(Et,{id:Number(t.params.id)})}}),n.createElement(g.a,{exact:!0,path:"/messages",render:function(e){e.match;return n.createElement(ta,null)}}),n.createElement(g.a,{path:"/messages/:username",render:function(e){var t=e.match;return n.createElement(ta,{username:t.params.username})}}),n.createElement(g.a,{path:"/posts/:id",render:function(e){var t=e.match;return n.createElement(He,{id:Number(t.params.id)})}}),n.createElement(g.a,{path:"/users/:username",render:function(e){var t=e.match;return n.createElement(Ft,{username:t.params.username})}}),n.createElement(g.a,{exact:!0,path:"/login",component:qe}),n.createElement(g.a,{exact:!0,path:"/signup",component:$e}),n.createElement(g.a,{exact:!0,path:"/profile",component:xt}),n.createElement(g.a,{exact:!0,path:"/stats",component:da}),n.createElement(g.a,{exact:!0,path:"/onboarding",component:fa}),n.createElement(g.a,{exact:!0,path:"/dev/ads",component:_a}))),n.createElement("footer",{style:{fontSize:"11px",padding:"10px 0"}},n.createElement(b,null,"(c) 2019 FriendWorld.social")))}}]),t}(n.Component),va=Object(h.a)(Ea);Ee.setTrackingToken();var ba=Object(i.b)({url:"https://friendworld.appspot.com/graphql",fetchOptions:function(){var e=Ee.get();return e?{headers:{Authorization:"Bearer ".concat(e),trackingToken:Ee.getTrackingToken()||""}}:{headers:{trackingToken:Ee.getTrackingToken()||""}}}}),ya=(new Date).getHours();(ya<5||ya>=22)&&(document.body.className="nightmode"),c.a.render(r.a.createElement(i.a,{value:ba},r.a.createElement(l.a,null,r.a.createElement(va,null))),document.getElementById("root"))},28:function(e,t,a){e.exports={signup:"styles_signup__1TBgB",card:"styles_card__2i6Va",inputs:"styles_inputs__2-zI-",submitButton:"styles_submitButton__1RQ0F"}},29:function(e,t,a){e.exports={container:"styles_container__1c7gy",inner:"styles_inner__2Y1v5",contentInput:"styles_contentInput__1FYQK",submitButton:"styles_submitButton__F4S4o"}},30:function(e,t,a){e.exports={stats:"styles_stats__AKzjd",statSection:"styles_statSection__2sbUJ",sectionContainer:"styles_sectionContainer__2Iauo"}},4:function(e,t,a){e.exports={header:"styles_header__kQFtS",memberSince:"styles_memberSince__6_eN_",content:"styles_content__2k8HI",left:"styles_left__3RLgw",right:"styles_right__1wvr3",avatar:"styles_avatar__up-xt",subheader:"styles_subheader__2yCNY",postContainer:"styles_postContainer__8sWw_",recentPosts:"styles_recentPosts__2pfm9",inputSection:"styles_inputSection__3flum",contentInput:"styles_contentInput__1yKr9",submitButton:"styles_submitButton__qntJH",profile:"styles_profile__CnGcI",buttonContainer:"styles_buttonContainer__21qge"}},46:function(e,t,a){e.exports={login:"styles_login__1bddG",card:"styles_card__342W-",submitButton:"styles_submitButton__3gLIc"}},47:function(e,t,a){e.exports={adContainer:"styles_adContainer__lMNuW",label:"styles_label__2MmNX",adWrapper:"styles_adWrapper__7ikg8"}},5:function(e,t,a){e.exports={container:"styles_container__3ZrW4",content:"styles_content__mkpSL",title:"styles_title__g_H6k",links:"styles_links__1lT-N",link:"styles_link__2r07p",user:"styles_user__KXrwW",circle:"styles_circle__3a6lQ",label:"styles_label__3nbc0",unread:"styles_unread__39lvg",unread1:"styles_unread1__1t29L",Unread:"styles_Unread__20_Xf",unread2:"styles_unread2__1gjma",unread3:"styles_unread3__2odvK",Rotate:"styles_Rotate__Jr-hj",unread4:"styles_unread4__2qCGs",Breathe:"styles_Breathe__TeGmQ",dropdownPosition:"styles_dropdownPosition__RvAKI",dropdown:"styles_dropdown__3tTva",alert:"styles_alert__2nkwt",alertDropdown:"styles_alertDropdown__28W3J",noAlerts:"styles_noAlerts__aWfQ5",userDropdown:"styles_userDropdown__3RMMv",switchAccounts:"styles_switchAccounts__3Okr5"}},57:function(e,t,a){e.exports={width:"styles_width__2uPjX",body:"styles_body__3rj8V"}},59:function(e,t,a){e.exports={back:"styles_back__3PY0I"}},60:function(e,t,a){e.exports={ad:"styles_ad__tC5Qg"}},62:function(e,t,a){e.exports={onboarding:"styles_onboarding__3XU1K",card:"styles_card__PWU0O"}},7:function(e,t,a){e.exports={header:"styles_header__hU_hQ",messagesSection:"styles_messagesSection__2TjQW",mobileContainer:"styles_mobileContainer__2EvvN",desktopContainer:"styles_desktopContainer__hT0b1",messagePanel:"styles_messagePanel__3ea8x",sentMessages:"styles_sentMessages__-5hBn",newMessageBox:"styles_newMessageBox__151Oc",sendBox:"styles_sendBox__2qRGc",submitButton:"styles_submitButton__3lvS8",message:"styles_message__Ok6NK",sender:"styles_sender__2ZGF9",sidePanelContainer:"styles_sidePanelContainer__3Z_GC",emptyUsers:"styles_emptyUsers__2F5wl",sidePanel:"styles_sidePanel__2cb8A",user:"styles_user__3s6J6"}},86:function(e,t,a){e.exports={x:"styles_x__2XNkA"}},87:function(e,t,a){e.exports={img:"styles_img__2wl0K"}},90:function(e,t,a){e.exports={error:"styles_error__30xW5"}},91:function(e,t,a){},99:function(e,t,a){e.exports=a(219)}},[[99,1,2]]]);
//# sourceMappingURL=main.a18b67b4.chunk.js.map